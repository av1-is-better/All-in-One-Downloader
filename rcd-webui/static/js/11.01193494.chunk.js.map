{"version":3,"sources":["utils/RclonePropTypes.js","actions/explorerStateActions.js","actions/explorerActions.js","views/Explorer/RemotesList/RemoteListAutoSuggest.js","views/Explorer/RemotesList/RemotesList.js","assets/img/single-pane.png","assets/img/double-pane1.png","assets/img/triple-pane.png","assets/img/new-folder.png","views/Explorer/TabsLayout/TabsLayout.js","views/Explorer/FilesView/Constants.js","views/Base/Widgets/VideoPlayer/VideoPlayer.js","views/Base/Widgets/ImageLoader/ImageLoader.js","actions/imagesActions.js","views/Base/Widgets/AudioPlayer/AudioPlayer.js","views/Base/MediaWidget/MediaWidget.js","views/Explorer/FilesView/FileActions.js","views/Explorer/FilesView/FileIcon.js","views/Explorer/FilesView/FileComponent.js","views/Base/LinkShareModal/LinkShareModal.js","views/Base/ScrollableDiv/ScrollableDiv.js","views/Base/DropOverlay/DropOverlay.js","views/Explorer/FilesView/FilesView.js","views/Base/NewFolder/NewFolder.js","views/Base/FileOperations/FileUploadBox.js","views/Base/FileOperations/FileUploadModal.js","views/Base/FileOperations/FileOperations.js","actions/providerStatusActions.js","views/Explorer/RemoteExplorer/RemoteExplorer.js","views/Explorer/RemoteExplorerLayout/TabbedPanes.js","views/Explorer/RemoteExplorerLayout/RemoteExplorerLayout.js"],"names":["PropTypes","Features","isRequired","Hashes","Name","Precision","String","remoteName","remotePath","Path","Size","MimeType","ModTime","IsDir","rate","changePath","containerID","dispatch","type","CHANGE_PATH","id","getFilesForContainerID","changeRemoteName","CHANGE_REMOTE_NAME","getState","explorer","currentPaths","getFiles","changeRemotePath","CHANGE_REMOTE_PATH","createPath","CREATE_PATH","removePath","REMOVE_PATH","navigateUp","NAVIGATE_UP","navigateFwd","NAVIGATE_FWD","navigateBack","NAVIGATE_BACK","changeVisibilityFilter","filter","CHANGE_VISIBILITY_FILTER","changeGridMode","mode","CHANGE_GRID_MODE","setSearchQuery","searchQuery","CHANGE_SEARCH_QUERY","setLoadImages","shouldLoad","CHANGE_LOAD_IMAGES","payload","changeSortFilter","sortFilter","sortFilterAscending","CHANGE_SORT_FILTER","getFsInfo","getRemoteInfo","then","res","GET_CONFIG_FOR_REMOTE","status","REQUEST_SUCCESS","split","error","REQUEST_ERROR","getRemoteNames","getAllRemoteNames","GET_REMOTE_LIST","remotes","path","getFilesList","GET_FILES_LIST","filesList","list","changeNumCols","numCols","Error","CHANGE_LAYOUT_COLS","addRemoteContainer","paneID","uniqueID","makeUniqueID","changeActiveRemoteContainer","ADD_LAYOUT_CONTAINER","removeRemoteContainer","REMOVE_LAYOUT_CONTAINER","CHANGE_ACTIVE_REMOTE_CONTAINER","changeDistractionFreeMode","shouldEnable","CHANGE_DISTRACTION_FREE_MODE","getSuggestions","config","value","inputValue","trim","toLowerCase","inputLength","length","lang","slice","getSuggestionValue","suggestion","renderSuggestion","className","RemoteListAutoSuggest","React","Component","constructor","props","super","onSuggestionsFetchRequested","this","setState","suggestions","onSuggestionsClearRequested","state","render","inputProps","placeholder","onChange","alwaysRenderSuggestions","highlightFirstSuggestion","style","width","RemotesList","shouldUpdateRemoteName","event","newValue","indexOf","openButtonText","openRemote","e","preventDefault","handleChangeRemoteName","isEmpty","openEnabled","componentDidMount","hasError","role","aria-label","Form","onSubmit","Col","xs","sm","lg","Button","color","defaultProps","connect","ownProps","remote","currentPath","module","exports","_","containers","numContainers","activeRemoteContainerID","currentPaneID","activeContainerIDInPane","Nav","tabs","map","ID","isActiveTab","NavItem","key","NavLink","onClick","stopPropagation","ItemTypes","PlayerComponent","console","log","options","VideoPlayer","playbackURL","useState","preview","setPreview","hideFull","element","data-test","subtitleURL","substring","lastIndexOf","sources","src","subtitles","language","url","label","ReactDOM","Modal","isOpen","toggle","document","getElementById","MODAL_ROOT_ELEMENT","ErrorBoundary","downloadURL","imageData","imageLoader","downloadImage","LOAD_IMAGE","REQUEST_LOADING","axiosInstance","get","responseType","imgFile","Blob","data","imgUrl","URL","createObjectURL","err","inViewport","rotateAngle","setRotateAngle","useEffect","isLoading","Spinner","alt","externalCloseBtn","position","top","right","external","Container","fluid","Row","Card","CardHeader","CardBody","AudioPlayer","controls","isMedia","MediaWidget","getRenderForItem","fsInfo","item","ipAddress","localStorage","getItem","IP_ADDRESS_KEY","BucketBased","loadMedia","loadImages","configs","tempRemoteName","FileActions","downloadHandle","deleteHandle","linkShareHandle","UncontrolledButtonDropdown","DropdownToggle","DropdownMenu","DropdownItem","header","divider","window","confirm","confirmDelete","mimeClassMap","FileIcon","params","a","srcRemoteName","srcRemotePath","destRemoteName","destRemotePath","dropEffect","updateHandler","performCopyFile","toast","info","performMoveFile","fileComponentSource","canDrag","beginDrag","endDrag","monitor","component","getDropResult","performCopyMoveOperation","response","JSON","stringify","autoClose","FileComponent","handleClick","clickHandler","connectDragSource","gridMode","modTime","Date","CardFooter","formatBytes","toLocaleDateString","DragSource","dragSource","connectDragPreview","dragPreview","isDragging","LinkShareModal","copyToClipboard","textField","createElement","innerText","linkUrl","body","appendChild","select","execCommand","remove","handleFocus","target","copySuccess","bind","closeModal","isVisible","isCopyAllowed","queryCommandSupported","ModalHeader","ModalBody","Input","readOnly","onFocus","ModalFooter","ScrollableDiv","height","children","overflow","DropOverlay","left","zIndex","opacity","backgroundColor","filesTarget","drop","didDrop","addColonAtLast","canDrop","FilesView","PureComponent","closeLinkShareModal","showLinkShareModal","dismissAlert","isDownloadProgress","PublicLink","createNewPublicLink","generatedLink","getFileComponents","isDir","files","reduce","result","undefined","push","handleFileClick","isBucketBased","canCopy","Copy","canMove","Move","itemIdx","applySortFilter","downloadingItems","shouldUpdate","IsBucket","updateRemotePath","newRemotePath","updateRemoteName","downloadUrl","prevState","method","link","href","setAttribute","click","purgeDir","deleteFile","connectDropTarget","isOver","dirComponentMap","fileComponentMap","renderElement","FILES_VIEW_HEIGHT","filterIconClass","Table","Fragment","colSpan","Alert","getVisibleFiles","createSelector","visibilityFilters","sortFilters","searchQueries","sortFiltersAscending","visibilityFilter","changeListVisibility","changeSearchFilter","sort","getSortCompareFunction","compose","mgridMode","mloadImages","pathKey","DropTarget","dropTarget","NewFolder","disableForm","shouldDisable","changeName","name","createNewFolder","handleSubmit","fs","post","urls","mkdir","FormGroup","row","Label","for","required","autoFocus","disabled","FileUploadBox","onDrop","useDrop","accept","NativeTypes","FILE","collect","isActive","ref","FileUploadModal","modal","setModal","setFiles","isUploading","setIsUploading","filesDropHandler","useCallback","UncontrolledTooltip","placement","DndProvider","backend","HTML5Backend","out","i","size","getFilesElement","htmlFor","multiple","FormData","file","append","getUrl","FileOperations","openNewFolderModal","CanHaveEmptyDirectories","newFolderModalIsVisible","closeNewFolderModal","handleChangeFilter","newFilter","handleChangeGridMode","changeSearch","toggleDropDown","dropdownOpen","toggleAboutModal","About","isAboutModalOpen","getAboutRemote","handleCleanTrash","CleanUp","cleanTrashForRemote","getAbout","changeLoadMedia","handleSearchOpen","searchOpen","onChangeTrial","tempUrl","onFocusHandle","isUrlBarFocused","onBlurHandle","onSubmitUrlChange","urlSplits","filterOptions","visibilityFilteringOptions","componentDidUpdate","prevProps","snapshot","doughnutData","marginLeft","marginRight","inline","onBlur","newFolderImg","ButtonDropdown","direction","buttonLabel","buttonClass","getDoughnutData","providerStatus","about","remoteAbout","labels","Object","entries","bytesToGB","toFixed","datasets","hoverBackgroundColor","getFsInfoSelector","isLocalRemoteName","GET_REMOTE_ABOUT","RemoteExplorer","remoteNameTemp","isValidPath","TabbedPanes","distractionFreeMode","returnData","lgSize","pane","RemoteExplorerLayout","changeLayout","nos","toggleDistractionFreeMode","singlePaneImg","doublePaneImg","triplePaneImg","backStacks","splitMode"],"mappings":"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","file":"static/js/11.01193494.chunk.js","sourcesContent":["import * as PropTypes from \"prop-types\";\r\n\r\nexport const PROP_FS_INFO = PropTypes.oneOfType([\r\n    PropTypes.shape({\r\n        Features: PropTypes.object.isRequired,\r\n        Hashes: PropTypes.array.isRequired,\r\n        Name: PropTypes.string.isRequired,\r\n        Precision: PropTypes.number.isRequired,\r\n        String: PropTypes.string.isRequired\r\n    }),\r\n    PropTypes.object\r\n]);\r\n\r\nexport const PROP_CURRENT_PATH = PropTypes.shape({\r\n    remoteName: PropTypes.string.isRequired,\r\n    remotePath: PropTypes.string.isRequired\r\n});\r\n\r\nexport const PROP_CONTAINER_ID = PropTypes.string;\r\n\r\nexport const PROP_LOAD_IMAGES_BOOL = PropTypes.bool;\r\n\r\nexport const PROP_IN_VIEWPORT = PropTypes.bool;\r\n\r\nexport const PROP_ITEM = PropTypes.shape({\r\n\r\n    Path: PropTypes.string.isRequired,\r\n    Name: PropTypes.string.isRequired,\r\n    Size: PropTypes.number,\r\n    MimeType: PropTypes.string,\r\n    ModTime: PropTypes.string.isRequired,\r\n    IsDir: PropTypes.bool.isRequired\r\n\r\n});\r\n\r\nexport const PROP_BANDWIDTH = PropTypes.shape({\r\n    // bytesPerSecond: PropTypes.number.isRequired,\r\n    rate: PropTypes.string.isRequired\r\n\r\n});\r\n","import {\r\n    CHANGE_GRID_MODE,\r\n    CHANGE_LOAD_IMAGES,\r\n    CHANGE_PATH,\r\n    CHANGE_REMOTE_NAME,\r\n    CHANGE_REMOTE_PATH,\r\n    CHANGE_SEARCH_QUERY,\r\n    CHANGE_SORT_FILTER,\r\n    CHANGE_VISIBILITY_FILTER,\r\n    CREATE_PATH,\r\n    NAVIGATE_BACK,\r\n    NAVIGATE_FWD,\r\n    NAVIGATE_UP,\r\n    REMOVE_PATH\r\n} from \"./types\";\r\nimport {getFiles} from \"./explorerActions\";\r\n\r\n/**\r\n * Changes the current path of a container using container ID\r\n * @param containerID {string}\r\n * @param remoteName {string} Name of the remote config/ (\"/\" for local path). May contain abc:bucketName for bucket based remotes\r\n * @param remotePath {string} Name of the path in the remote. eg: /tmp\r\n * @returns {Function}\r\n */\r\nexport const changePath = (containerID, remoteName, remotePath) => {\r\n    return (dispatch) => {\r\n        dispatch({\r\n            type: CHANGE_PATH,\r\n            id: containerID,\r\n            remoteName: remoteName,\r\n            remotePath: remotePath\r\n        });\r\n        dispatch(getFilesForContainerID(containerID))\r\n    }\r\n};\r\n\r\n/**\r\n * Changes the current remote name for a particular container id\r\n * @param containerID {string}\r\n * @param remoteName {string}\r\n * @returns {Function}\r\n */\r\nexport const changeRemoteName = (containerID, remoteName) => {\r\n\r\n    return (dispatch) => {\r\n        dispatch({\r\n            type: CHANGE_REMOTE_NAME,\r\n            remoteName: remoteName,\r\n            id: containerID,\r\n            remotePath: \"\"\r\n        });\r\n\r\n        dispatch(getFilesForContainerID(containerID))\r\n    }\r\n};\r\n\r\n/**\r\n * Issues a request to fetch the files in the current path of a container using container id.\r\n * @param containerID\r\n * @returns {Function}\r\n */\r\nexport const getFilesForContainerID = (containerID) => {\r\n\r\n    return (dispatch, getState) => {\r\n        const state = getState();\r\n        const {remoteName, remotePath} = state.explorer.currentPaths[containerID];\r\n        if (remoteName && remoteName !== \"\")\r\n            dispatch(getFiles(remoteName, remotePath));\r\n    }\r\n};\r\n\r\n/**\r\n * Changes the current remote path for a container ID without changing the remote name.\r\n * @param containerID {string}\r\n * @param remotePath {string}\r\n * @returns {Function}\r\n */\r\nexport const changeRemotePath = (containerID, remotePath) => {\r\n    return (dispatch) => {\r\n        dispatch({\r\n            type: CHANGE_REMOTE_PATH,\r\n            id: containerID,\r\n            remotePath: remotePath\r\n        });\r\n        dispatch(getFilesForContainerID(containerID))\r\n    }\r\n};\r\n\r\n/**\r\n * Creates an empty path for initialization of a container.\r\n * @param containerID {string}\r\n * @returns {Function}\r\n */\r\nexport const createPath = (containerID) => dispatch => {\r\n\r\n    dispatch({\r\n        type: CREATE_PATH,\r\n        id: containerID\r\n    })\r\n};\r\n\r\n\r\n/**\r\n * Creates an empty path for initialization of a container.\r\n * @param containerID {string}\r\n * @returns {Function}\r\n */\r\nexport const removePath = (containerID) => dispatch => {\r\n\r\n    dispatch({\r\n        type: REMOVE_PATH,\r\n        id: containerID\r\n    })\r\n};\r\n\r\n\r\n/**\r\n * Computes and requests the path for going one level up in the working directory.\r\n * Eg: /tmp/abc -> navigateUp -> /tmp\r\n * @param containerID\r\n * @returns {Function}\r\n */\r\nexport const navigateUp = (containerID) => dispatch => {\r\n\r\n    dispatch({\r\n        type: NAVIGATE_UP,\r\n        id: containerID\r\n    });\r\n    dispatch(getFilesForContainerID(containerID))\r\n\r\n};\r\n\r\n/**\r\n * Navigates one stack entry up.\r\n * Requires at least one backStack entry. (The navigateBack should have been called at least once).\r\n * @param containerID {string}\r\n * @returns {Function}\r\n */\r\nexport const navigateFwd = (containerID) => dispatch => {\r\n\r\n    dispatch({\r\n        type: NAVIGATE_FWD,\r\n        id: containerID\r\n    });\r\n    dispatch(getFilesForContainerID(containerID))\r\n\r\n};\r\n\r\n\r\n/**\r\n * Navigates to one stack entry back. Works when used with navigateFwd, navigateUp.\r\n * Also requests for files in the new path\r\n * @param containerID\r\n * @returns {Function}\r\n */\r\nexport const navigateBack = (containerID) => dispatch => {\r\n\r\n    dispatch({\r\n        type: NAVIGATE_BACK,\r\n        id: containerID\r\n    });\r\n    dispatch(getFilesForContainerID(containerID))\r\n\r\n};\r\n\r\n/**\r\n * Changes the visibility filter for a given container, the filter may contain values like Images, Videos to enable viewing of only those type of file inside a container.\r\n * @param containerID\r\n * @param filter {string}\r\n * @returns {Function}\r\n */\r\nexport const changeVisibilityFilter = (containerID, filter) => dispatch => {\r\n    dispatch({\r\n        type: CHANGE_VISIBILITY_FILTER,\r\n        id: containerID,\r\n        filter\r\n    })\r\n};\r\n\r\n/**\r\n * Changes the view from Grid Mode to Card Mode or Card Mode to Grid Mode\r\n * @param containerID\r\n * @param mode {string}\r\n * @returns {Function}\r\n */\r\nexport const changeGridMode = (containerID, mode) => dispatch => {\r\n    dispatch({\r\n        type: CHANGE_GRID_MODE,\r\n        id: containerID,\r\n        mode\r\n    })\r\n};\r\n\r\n/**\r\n * Changes the current search query to be searched in the container id. Filters the files and folders according to the new search query.\r\n * @param containerID\r\n * @param searchQuery\r\n * @returns {Function}\r\n */\r\nexport const setSearchQuery = (containerID, searchQuery) => dispatch => {\r\n    dispatch({\r\n        type: CHANGE_SEARCH_QUERY,\r\n        id: containerID,\r\n        searchQuery\r\n    })\r\n};\r\n\r\nexport const setLoadImages = (containerID, shouldLoad) => dispatch => {\r\n    dispatch({\r\n        type: CHANGE_LOAD_IMAGES,\r\n        id: containerID,\r\n        payload: shouldLoad\r\n    })\r\n};\r\n\r\nexport const changeSortFilter = (containerID, sortFilter, sortFilterAscending) => dispatch => {\r\n    dispatch({\r\n        type: CHANGE_SORT_FILTER,\r\n        id: containerID,\r\n        payload: {\r\n            sortFilter, \r\n            sortFilterAscending\r\n        }\r\n    })\r\n}\r\n\r\n","import {\r\n    ADD_LAYOUT_CONTAINER,\r\n    CHANGE_ACTIVE_REMOTE_CONTAINER,\r\n    CHANGE_DISTRACTION_FREE_MODE,\r\n    CHANGE_LAYOUT_COLS,\r\n    GET_CONFIG_FOR_REMOTE,\r\n    GET_FILES_LIST,\r\n    GET_REMOTE_LIST,\r\n    REMOVE_LAYOUT_CONTAINER,\r\n    REQUEST_ERROR,\r\n    REQUEST_SUCCESS\r\n} from \"./types\";\r\nimport {makeUniqueID} from \"../utils/Tools\";\r\nimport {createPath, removePath} from \"./explorerStateActions\";\r\nimport {getAllRemoteNames, getFilesList, getRemoteInfo} from \"rclone-api\"\r\n\r\n/**\r\n * Gets the information regarding features, hashes from the rclone backend. Stores into redux store.\r\n * @param remoteName {string} The name of the remote\r\n * @returns {Function}\r\n */\r\nexport const getFsInfo = (remoteName) => dispatch => {\r\n    // console.log(\"Actual: \", sentRemoteName);\r\n    getRemoteInfo(remoteName).then((res) => {\r\n            dispatch({\r\n                type: GET_CONFIG_FOR_REMOTE,\r\n                status: REQUEST_SUCCESS,\r\n                payload: {[remoteName.split(':')[0]]: res},\r\n\r\n            })\r\n        },\r\n        error => dispatch({\r\n            type: GET_CONFIG_FOR_REMOTE,\r\n            status: REQUEST_ERROR,\r\n            payload: error\r\n        }))\r\n\r\n};\r\n\r\n/**\r\n * Get only remote names from the rclone backend. Stores into redux store.\r\n * @returns {Function}\r\n */\r\n\r\nexport const getRemoteNames = () => {\r\n    return (dispatch, getState) => {\r\n        getAllRemoteNames().then(res => dispatch({\r\n            type: GET_REMOTE_LIST,\r\n            status: REQUEST_SUCCESS,\r\n            payload: res.remotes\r\n        }), error => dispatch({\r\n            type: GET_REMOTE_LIST,\r\n            status: REQUEST_ERROR,\r\n            payload: error\r\n        }));\r\n    }\r\n};\r\n\r\n/**\r\n * Gets the files for a specified remote path (remoteName + remotePath). Stores into redux store.\r\n * @param remoteName {string} Name of the remote config/ (\"/\" for local path). May contain abc:bucketName for bucket based remotes\r\n * @param remotePath {string} Name of the path in the remote\r\n * @returns {Function}\r\n */\r\nexport const getFiles = (remoteName, remotePath) => dispatch => {\r\n    if (remoteName !== \"\") {\r\n        const path = `${remoteName}-${remotePath}`;\r\n        getFilesList(remoteName, remotePath).then(res => dispatch({\r\n                type: GET_FILES_LIST,\r\n                status: REQUEST_SUCCESS,\r\n                payload: {path: path, filesList: res.list}\r\n            }),\r\n            error => dispatch({\r\n                type: GET_FILES_LIST,\r\n                status: REQUEST_ERROR,\r\n                payload: {path: path, error}\r\n            })\r\n        )\r\n    }\r\n\r\n};\r\n\r\n/**\r\n * Changes the number of columns in current layout view.\r\n * @param mode          {string} Either \"vertical or horizontal, defines the split type\"\r\n * @param numCols       {number} Number of columns to create\r\n * @returns {Function}\r\n */\r\nexport const changeNumCols = (numCols, mode) => (dispatch) => {\r\n    if (!numCols || numCols < 0) throw new Error(`Invalid number of cols:${numCols}`);\r\n\r\n\r\n    // for (let i = 0; i < numCols; i++) {\r\n    //     dispatch(createPath(i.toString()))\r\n    // }\r\n\r\n    dispatch({\r\n        type: CHANGE_LAYOUT_COLS,\r\n        payload: {\r\n            numCols, mode\r\n        }\r\n    })\r\n};\r\n\r\n/**\r\n * Adds a new remote container.\r\n * @param paneID               {int} pane ID\r\n * @returns {Function}\r\n */\r\nexport const addRemoteContainer = (paneID) => (dispatch) => {\r\n    const uniqueID = makeUniqueID(3);\r\n    dispatch(createPath(uniqueID));\r\n    dispatch(changeActiveRemoteContainer(uniqueID, paneID));\r\n    dispatch({\r\n        type: ADD_LAYOUT_CONTAINER,\r\n        payload: {\r\n            containerID: uniqueID,\r\n            paneID\r\n        }\r\n    })\r\n};\r\n\r\n\r\n/**\r\n * Remove a new remote container.\r\n * @param containerID          {string} Container ID to remove\r\n * @param paneID               {int} pane ID\r\n * @returns {Function}\r\n */\r\nexport const removeRemoteContainer = (containerID, paneID) => (dispatch) => {\r\n    dispatch(removePath(containerID));\r\n    // console.log(\"Removing : \" + containerID);\r\n    dispatch({\r\n        type: REMOVE_LAYOUT_CONTAINER,\r\n        payload: {\r\n            containerID, paneID\r\n        }\r\n    })\r\n};\r\n\r\n/**\r\n * Change active remote container.\r\n * @param containerID          {string} Container ID to remove\r\n * @param paneID               {int} pane ID\r\n * @returns {Function}\r\n */\r\nexport const changeActiveRemoteContainer = (containerID, paneID) => (dispatch) => {\r\n    dispatch({\r\n        type: CHANGE_ACTIVE_REMOTE_CONTAINER,\r\n        payload: {\r\n            containerID,\r\n            paneID\r\n        }\r\n    })\r\n};\r\n\r\n/**\r\n * Enter or exit distraction free mode\r\n * @param shouldEnable  {boolean} Enable or disable distraction free mode.\r\n * @returns {Function}\r\n */\r\nexport const changeDistractionFreeMode = (shouldEnable) => dispatch => {\r\n    dispatch({\r\n        type: CHANGE_DISTRACTION_FREE_MODE,\r\n        payload: shouldEnable\r\n    })\r\n};\r\n","import Autosuggest from 'react-autosuggest';\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n// Teach Autosuggest how to calculate suggestions for any given input value.\r\nconst getSuggestions = (config, value) => {\r\n    const inputValue = value.trim().toLowerCase();\r\n    const inputLength = inputValue.length;\r\n\r\n    if (inputLength === 0) {\r\n        return config;\r\n\r\n    }\r\n\r\n    return inputLength === 0 ? [] : config.filter(lang =>\r\n        lang.toLowerCase().slice(0, inputLength) === inputValue\r\n    );\r\n};\r\n\r\n// When suggestion is clicked, Autosuggest needs to populate the input\r\n// based on the clicked suggestion. Teach Autosuggest how to calculate the\r\n// input value for every given suggestion.\r\nconst getSuggestionValue = suggestion => suggestion;\r\n\r\n// Use your imagination to render suggestions.\r\nconst renderSuggestion = suggestion => (\r\n    <div>\r\n        <i className=\"fa fa-lg fa-hdd-o\"/> {suggestion}\r\n    </div>\r\n);\r\n\r\nclass RemoteListAutoSuggest extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        // Autosuggest is a controlled component.\r\n        // This means that you need to provide an input value\r\n        // and an onChange handler that updates this value (see below).\r\n        // Suggestions also need to be provided to the Autosuggest,\r\n        // and they are initially empty because the Autosuggest is closed.\r\n        this.state = {\r\n            suggestions: []\r\n        };\r\n    }\r\n\r\n\r\n    // Autosuggest will call this function every time you need to update suggestions.\r\n    // You already implemented this logic above, so just use it.\r\n    onSuggestionsFetchRequested = ({value}) => {\r\n        this.setState({\r\n            suggestions: getSuggestions(this.props.suggestions, value)\r\n        });\r\n    };\r\n\r\n    // Autosuggest will call this function every time you need to clear suggestions.\r\n    onSuggestionsClearRequested = () => {\r\n        this.setState({\r\n            suggestions: []\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const {value, onChange} = this.props;\r\n\r\n\r\n        // Autosuggest will pass through all these props to the input.\r\n        const inputProps = {\r\n            placeholder: 'Type the name of remote you want to open',\r\n            value: value,\r\n            onChange: onChange\r\n        };\r\n\r\n        // Finally, render it!\r\n        return (\r\n            <Autosuggest\r\n                suggestions={this.state.suggestions}\r\n                onSuggestionsFetchRequested={this.onSuggestionsFetchRequested}\r\n                onSuggestionsClearRequested={this.onSuggestionsClearRequested}\r\n                getSuggestionValue={getSuggestionValue}\r\n                renderSuggestion={renderSuggestion}\r\n                alwaysRenderSuggestions={true}\r\n                highlightFirstSuggestion={true}\r\n                inputProps={inputProps}\r\n                style={{width:\"100%\"}}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\nRemoteListAutoSuggest.propTypes = {\r\n    value: PropTypes.string.isRequired,\r\n    onChange: PropTypes.func.isRequired,\r\n    suggestions: PropTypes.array.isRequired\r\n};\r\n\r\nexport default RemoteListAutoSuggest;","import React from 'react';\r\nimport RemoteListAutoSuggest from \"./RemoteListAutoSuggest\";\r\nimport {connect} from \"react-redux\";\r\nimport {getFsInfo, getRemoteNames} from \"../../../actions/explorerActions\";\r\nimport PropTypes from 'prop-types'\r\nimport {changeRemoteName} from \"../../../actions/explorerStateActions\";\r\nimport {Button, Col, Form} from \"reactstrap\";\r\nimport {PROP_CURRENT_PATH} from \"../../../utils/RclonePropTypes\";\r\n\r\nclass RemotesList extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isEmpty: false,\r\n            remoteName: props.remoteName,\r\n            openEnabled: false,\r\n            openButtonText: \"Open\"\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        this.props.getRemoteNames();\r\n    }\r\n\r\n    shouldUpdateRemoteName = (event, {newValue}) => {\r\n        if (newValue.indexOf('/') === 0) {\r\n            this.setState({\r\n                remoteName: newValue,\r\n                openButtonText: \"Open local path\",\r\n            });\r\n        } else {\r\n            this.setState({\r\n                remoteName: newValue,\r\n                openButtonText: \"Open\"\r\n            });\r\n        }\r\n    };\r\n\r\n    openRemote = (e) => {\r\n        e.preventDefault();\r\n        const {handleChangeRemoteName} = this.props;\r\n        const {remoteName} = this.state;\r\n\r\n        handleChangeRemoteName(remoteName);\r\n\r\n    };\r\n\r\n\r\n    render() {\r\n        const {isEmpty, remoteName} = this.state;\r\n        const {remotes} = this.props;\r\n        const {hasError} = this.props;\r\n        // const {updateRemoteNameHandle} = this.props;\r\n\r\n        if (hasError) {\r\n            return (\r\n                <div>\r\n                    Error loading remotes. Please try again.\r\n                </div>\r\n            )\r\n        } else if (isEmpty) {\r\n            return (\r\n                <div>\r\n                    Add some remotes to see them here <span role=\"img\" aria-label=\"sheep\"></span>.\r\n                </div>);\r\n        } else {\r\n\r\n            return (\r\n                <Form onSubmit={this.openRemote} className=\"row\">\r\n                    \r\n                    <Col xs={12} sm={10} lg={10}>\r\n                        <RemoteListAutoSuggest value={remoteName} onChange={this.shouldUpdateRemoteName}\r\n                                                suggestions={remotes}/>\r\n                    </Col>\r\n                    <Col xs={12} sm={2} lg={2}>\r\n\r\n                        <Button className={\"btn-lg\"} color=\"success\">{this.state.openButtonText}</Button>\r\n                    </Col>\r\n                    \r\n                </Form>\r\n\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    remotes: state.remote.remotes,\r\n    hasError: false,\r\n    error: state.remote.error,\r\n    currentPath: state.explorer.currentPaths[ownProps.containerID],\r\n});\r\n\r\nconst propTypes = {\r\n    remotes: PropTypes.array.isRequired,\r\n    error: PropTypes.object,\r\n    hasError: PropTypes.bool,\r\n    currentPath: PROP_CURRENT_PATH,\r\n    handleChangeRemoteName: PropTypes.func.isRequired,\r\n};\r\n\r\n\r\nconst defaultProps = {};\r\n\r\nRemotesList.propTypes = propTypes;\r\nRemotesList.defaultProps = defaultProps;\r\n\r\n\r\nexport default connect(mapStateToProps, {\r\n    getRemoteNames,\r\n    getFsInfo,\r\n    changeRemoteName,\r\n\r\n})(RemotesList);\r\n","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALIAAABYCAYAAABRVa2MAAAABHNCSVQICAgIfAhkiAAAA1FJREFUeF7tlMFNJUEMBZcgNgjyz4XNAYIAiROHFaUy+nLTqrnasnrqld7Ty+v7+5++CPxyAk+J/MsT7PmfBBI5Ea4gkMhXxNhPJHIOXEEgka+IsZ9I5By4gkAiXxFjP5HIOXAFgUS+IsZ+IpFz4AoCiXxFjP1EIufAFQQS+YoY+4lEzoErCCTyFTH2Ez8W+flvEL8S+Pf2PY94/Z8PcSPLEpkIyTkFksiJLJXaWU/kGXfiRldrZCIk5xRIjVwjS6V21hN5xp240dUamQjJOQVSI9fIUqmd9USecSdudLVGJkJyToHUyDWyVGpnPZFn3IkbXa2RiZCcUyA1co0sldpZT+QZd+JGV2tkIiTnFEiNXCNLpXbWE3nGnbjR1RqZCMk5BVIj18hSqZ31RJ5xJ250tUYmQnJOgdTINbJUamc9kWfciRtdrZGJkJxTIDVyjSyV2llP5Bl34kZXa2QiJOcUSI1cI0uldtYTecaduNHVGpkIyTkFUiPXyFKpnfVEnnEnbnS1RiZCck6B1Mg1slRqZz2RZ9yJG12tkYmQnFMgNXKNLJXaWU/kGXfiRldrZCIk5xRIjVwjS6V21hN5xp240dUamQjJOQVSI9fIUqmd9USecSdudLVGJkJyToHUyDWyVGpnPZFn3IkbXa2RiZCcUyA1co0sldpZT+QZd+JGV2tkIiTnFEiNXCNLpXbWE3nGnbjR1RqZCMk5BVIj18hSqZ31RJ5xJ250tUYmQnJOgdTINbJUamc9kWfciRtdrZGJkJxTIDVyjSyV2llP5Bl34kZXa2QiJOcUSI1cI0uldtYTecaduNHVGpkIyTkFUiPXyFKpnfVEnnEnbnS1RiZCck6B1Mg1slRqZz2RZ9yJG12tkYmQnFMgNXKNLJXaWU/kGXfiRldrZCIk5xRIjVwjS6V21hN5xp240dUamQjJOQVSI9fIUqmd9USecSdudLVGJkJyToHUyIc2ssy59Qg8hMCPG/khr+poBCSBRJbAWj+TQCKfmUuvkgQSWQJr/UwCiXxmLr1KEkhkCaz1Mwkk8pm59CpJIJElsNbPJJDIZ+bSqySBRJbAWj+TQCKfmUuvkgQSWQJr/UwCiXxmLr1KEkhkCaz1Mwkk8pm59CpJ4AOLvinHBVNx8QAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALYAAABYCAYAAABYvg32AAAABHNCSVQICAgIfAhkiAAAA11JREFUeF7tlMFJhWEMBLUIi7D/XrQHLUJB8OLBYQkxMcy7Jrz83+ywjy9vHx8P/iRwjMCjYh9L1Od8EVBsRThJQLFPxuqjFFsHThJQ7JOx+ijF1oGTBBT7ZKw+SrF14CQBxT4Zq49SbB04SUCxT8bqoxRbB04SUOyTsfooxdaBkwQU+2SsPqos9vPT/4L4+v779/6393y/5tq76D1knWL/IKTYpMzfzBU75EzAFDsE2rROOdFZG9vGJkdG5oodYidgNnYItGmdcqKzNraNTY6MzBU7xE7AbOwQaNM65URnbWwbmxwZmSt2iJ2A2dgh0KZ1yonO2tg2NjkyMlfsEDsBs7FDoE3rlBOdtbFtbHJkZK7YIXYCZmOHQJvWKSc6a2Pb2OTIyFyxQ+wEzMYOgTatU0501sa2scmRkblih9gJmI0dAm1ap5zorI1tY5MjI3PFDrETMBs7BNq0TjnRWRvbxiZHRuaKHWInYDZ2CLRpnXKisza2jU2OjMwVO8ROwGzsEGjTOuVEZ21sG5scGZkrdoidgNnYIdCmdcqJztrYNjY5MjJX7BA7AbOxQ6BN65QTnbWxbWxyZGSu2CF2AmZjh0Cb1iknOmtj29jkyMhcsUPsBMzGDoE2rVNOdNbGtrHJkZG5YofYCZiNHQJtWqec6KyNbWOTIyNzxQ6xEzAbOwTatE450Vkb28YmR0bmih1iJ2A2dgi0aZ1yorM2to1NjozMFTvETsBs7BBo0zrlRGdtbBubHBmZK3aInYDZ2CHQpnXKic7a2DY2OTIyV+wQOwGzsUOgTeuUE521sW1scmRkrtghdgJmY4dAm9YpJzprY9vY5MjIXLFD7ATMxg6BNq1TTnTWxraxyZGRuWKH2AmYjR0CbVqnnOisjW1jkyMjc8UOsRMwGzsE2rROOdFZG9vGJkdG5oodYidgNnYItGmdcqKzNraNTY6MzBU7xE7AbOwQaNM65URnbWwbmxwZmY+LPfJqj0oACJQbW8IS2EhAsTem4jeVCSh2GaF/sJGAYm9MxW8qE1DsMkL/YCMBxd6Yit9UJqDYZYT+wUYCir0xFb+pTECxywj9g40EFHtjKn5TmYBilxH6BxsJKPbGVPymMgHFLiP0DzYSUOyNqfhNZQKKXUboH2wk8AmzzJnHLKUNUAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAABHNCSVQICAgIfAhkiAAAAQhJREFUWEftlm0NwjAQhp8pAAdYQAI4wAHgAJQADpCAA0ABSEACEsiRlYym3W7LNTSk92tZbtdn7330KjKwKgMGCoTLQrZKrIBJR608gYNVPflKHIGlMrj4rpW+rW5NiClw6xnUBKQJMQPOPSHE/Q5IerR28lNpAaE9vOm3Bfah7hiqxBCIKyDnve1XSiSFmNc/J0W+a5EoKYRTtiu1BcJlyFQJVwMu+KV+GANSF878GjGF0F6Afo38H4TfhaU7/Alc5oT2MjPtDu2hvl8UQgbMAxgNjdzjO9lPN6GrXN4tAFnZUoKICnLOZxuLTTwZs6KMtQVXQe3YtYb5ilcgYoWZVPZY8CzS8QIbSj0iD+quAwAAAABJRU5ErkJggg==\"","import React from 'react';\r\nimport {Button, Nav, NavItem, NavLink} from \"reactstrap\";\r\nimport {connect} from \"react-redux\";\r\nimport {addRemoteContainer, changeActiveRemoteContainer, removeRemoteContainer} from \"../../../actions/explorerActions\";\r\n\r\nfunction TabsLayout(props) {\r\n    const {addRemoteContainer, removeRemoteContainer, changeActiveRemoteContainer, activeRemoteContainerID} = props;\r\n    const {containers, currentPaths, paneID: currentPaneID} = props;\r\n    const activeContainerIDInPane = activeRemoteContainerID ? activeRemoteContainerID[currentPaneID] : \"\";\r\n    return (<Nav tabs className=\"d-flex\">\r\n        {\r\n            containers.map(({ID, paneID}) => {\r\n                if (currentPaneID === paneID) {\r\n                    const isActiveTab = ID === activeContainerIDInPane;\r\n                    return (\r\n                        <NavItem key={\"TAB_\" + ID}\r\n                                 className={\"pl-0 pr-0 custom-tab \" + (isActiveTab ? \"tab-active\" : \"\")}>\r\n                            <NavLink className={\"float-center\"} onClick={() => changeActiveRemoteContainer(ID, paneID)}>\r\n                                <i className=\"fa fa-folder-o pr-1\"/>\r\n                                <span className=\"overflow-hidden\">\r\n\t\t\t\t\t\t\t\t\t{currentPaths[ID] && currentPaths[ID].remoteName !== \"\" ? currentPaths[ID].remoteName : \"Open New\"}\r\n\t\t\t\t\t\t\t\t</span>\r\n                                <Button className=\"btn-no-background btn btn-secondary p-0 pl-1 pr-2 ml-2\"\r\n                                        onClick={(e) => {\r\n                                            e.stopPropagation();\r\n                                            removeRemoteContainer(ID, paneID)\r\n                                        }}>\r\n                                    <i className=\"fa fa-lg fa-close\"/>\r\n                                </Button>\r\n                            </NavLink>\r\n\t\t\t\t\t\t</NavItem>)\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t})\r\n\t\t}\r\n\t\t<NavItem key={\"ADD_BUTTON\"} className={\"pl-0 pr-0\"}>\r\n\t\t\t<NavLink className={\"float-center\"} onClick={() => addRemoteContainer(currentPaneID)}>\r\n\t\t\t\t<i className=\"fa fa-lg fa-plus\"/>\r\n\t\t\t</NavLink>\r\n\t\t</NavItem>\r\n\r\n\t</Nav>)\r\n}\r\n\r\nconst mapStateToProps = (state, _) => {\r\n\treturn {\r\n\t\tcontainers: state.remote.containers,\r\n\t\tnumContainers: state.remote.numContainers,\r\n\t\tcurrentPaths: state.explorer.currentPaths,\r\n\t\tactiveRemoteContainerID: state.remote.activeRemoteContainerID\r\n\t};\r\n};\r\n\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{\r\n\t\taddRemoteContainer, removeRemoteContainer, changeActiveRemoteContainer\r\n\t}\r\n)(TabsLayout);\r\n\r\n","/*This is used by React DND for identifying the drag source type*/\r\nexport const ItemTypes = {\r\n    FILECOMPONENT: 'FileComponent'\r\n}","import React, {useState} from \"react\";\r\nimport {Button, Modal} from \"reactstrap\";\r\nimport * as ReactDOM from \"react-dom\";\r\nimport {MODAL_ROOT_ELEMENT} from \"../../../../utils/Constants\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport ErrorBoundary from \"../../../../ErrorHandling/ErrorBoundary\";\r\n\r\nimport ReactAwesomePlayer from 'react-awesome-player'\r\n\r\nclass PlayerComponent extends React.Component {\r\n    // loadeddata() {\r\n    //     console.log('loadeddata')\r\n    // }\r\n    // canplay() {\r\n    //     console.log('canplay')\r\n    // }\r\n    // canplaythrough() {\r\n    //     console.log('canplaythrough')\r\n    // }\r\n    // play() {\r\n    //     console.log('play')\r\n    // }\r\n    // pause() {\r\n    //     console.log('pause')\r\n    // }\r\n    // waiting() {\r\n    //     console.log('waiting')\r\n    // }\r\n    // playing() {\r\n    //     console.log('playing')\r\n    // }\r\n    // ended() {\r\n    //     console.log('ended')\r\n    // }\r\n    error() {\r\n        console.log('error')\r\n    }\r\n\r\n    render() {\r\n        const {options} = this.props;\r\n        return <ReactAwesomePlayer\r\n            options={options}\r\n\r\n            error={this.error}\r\n        />\r\n    }\r\n}\r\n\r\nfunction VideoPlayer({playbackURL, MimeType}) {\r\n\r\n    const [preview, setPreview] = useState(true);\r\n\r\n    function hideFull(e) {\r\n        e.stopPropagation();\r\n        setPreview(!preview);\r\n\r\n    }\r\n\r\n    let element;\r\n    if (preview) {\r\n        element = (\r\n            <div className=\"img-thumbnail w-100 text-center\" data-test=\"videoPlayerWidget\">\r\n                <Button color=\"link\" onClick={hideFull}>\r\n                    <i className=\"fa fa-play-circle fa-4x\"/>\r\n                    {/*<ReactPlayer url={playbackURL} light={true} controls={true}/>*/}\r\n                </Button>\r\n            </div>\r\n        )\r\n    } else {\r\n\r\n        // Load the video\r\n\r\n        const subtitleURL = playbackURL.substring(0, playbackURL.lastIndexOf('.')) + \".vtt\";\r\n        console.log(subtitleURL);\r\n\r\n        const options = {\r\n            options: {\r\n                sources: [{\r\n                    type: MimeType,\r\n                    src: playbackURL\r\n                }],\r\n                subtitles: [\r\n                    {\r\n                        language: 'en',\r\n                        url: subtitleURL,\r\n                        label: \"EN\"\r\n                    }],\r\n            }\r\n        };\r\n\r\n\r\n        element = ReactDOM.createPortal((\r\n            <Modal className=\"task-modal d-none d-sm-block\" data-test=\"videoPlayerWidget\" isOpen={!preview}\r\n                   toggle={hideFull}>\r\n\r\n                {/*<video id=\"video\" controls preload=\"metadata\" width=\"600\">*/}\r\n                {/*    <source src={playbackURL} type={MimeType}/>*/}\r\n                {/*</video>*/}\r\n                <PlayerComponent {...options}/>\r\n\r\n\r\n            </Modal>\r\n        ), document.getElementById(MODAL_ROOT_ELEMENT));\r\n    }\r\n\r\n    return (\r\n        <ErrorBoundary>\r\n            {element}\r\n        </ErrorBoundary>\r\n    )\r\n\r\n\r\n}\r\n\r\nVideoPlayer.propTypes = {\r\n    playbackURL: PropTypes.string.isRequired,\r\n    MimeType: PropTypes.string.isRequired\r\n};\r\n\r\nexport default VideoPlayer;","import React, {useEffect, useState} from 'react';\r\nimport {Button, Card, CardBody, CardHeader, Col, Container, Modal, Row, Spinner} from \"reactstrap\";\r\nimport * as ReactDOM from \"react-dom\";\r\nimport {MODAL_ROOT_ELEMENT} from \"../../../../utils/Constants\";\r\nimport {connect} from \"react-redux\";\r\nimport {downloadImage} from \"../../../../actions/imagesActions\";\r\n\r\nfunction ImageLoader({downloadURL, inViewport, imageData, downloadImage, currentPath}) {\r\n\r\n    const [preview, setPreview] = useState(true);\r\n    const [rotateAngle, setRotateAngle] = useState(0);\r\n\r\n\r\n    useEffect(() => {\r\n        if (inViewport && downloadURL && !imageData) {\r\n            downloadImage(downloadURL);\r\n        }\r\n    });\r\n\r\n\r\n    function hideFull(e) {\r\n        e.stopPropagation();\r\n        setPreview(!preview);\r\n    }\r\n\r\n    function rotateLeft() {\r\n        if (rotateAngle > 0)\r\n            setRotateAngle((rotateAngle - 90) % 360);\r\n        else\r\n            setRotateAngle((360 - rotateAngle - 90) % 360);\r\n    }\r\n\r\n    function rotateRight() {\r\n        setRotateAngle((rotateAngle + 90) % 360);\r\n    }\r\n\r\n    if (preview) {\r\n        return (\r\n            <div onClick={hideFull} data-test=\"toggleModal\">\r\n\r\n                {\r\n                    !imageData || imageData.isLoading ? <Spinner>Loading...</Spinner> :\r\n                        <img className=\"img-thumbnail pd-0 m-0 -rotate-90\" src={imageData.data} alt=\"\"/>\r\n                }\r\n            </div>\r\n        );\r\n    } else {\r\n\r\n        // Load the Image\r\n\r\n        const externalCloseBtn = <button className=\"close\" style={{position: 'absolute', top: '15px', right: '15px'}}\r\n                                         onClick={hideFull}><i className=\"fa fa-close fa-inverse\"/></button>;\r\n\r\n\r\n        return ReactDOM.createPortal((\r\n            <Modal className=\"image-modal\" isOpen={!preview} toggle={hideFull} external={externalCloseBtn}>\r\n\r\n                <Container fluid={true}>\r\n                    <Row>\r\n                        <Col lg={8}>\r\n                            <img\r\n                                className={\"rotatableImage img-thumbnail pd-0 m-0 \" + (rotateAngle !== 0 ? \"rotate\" + rotateAngle : \"\")}\r\n                                src={imageData.data} alt=\"\"/>\r\n                        </Col>\r\n                        <Col lg={4}>\r\n                            <Card>\r\n                                <CardHeader>\r\n                                    Operations\r\n                                </CardHeader>\r\n                                <CardBody>\r\n                                    <Row>\r\n                                        <Button color=\"link\" onClick={rotateLeft}>\r\n                                            <i className=\"fa fa-rotate-left\"/>\r\n                                        </Button>\r\n\r\n                                        <Button color=\"link\" onClick={rotateRight}>\r\n                                            <i className=\"fa fa-rotate-right\"/>\r\n                                        </Button>\r\n                                    </Row>\r\n\r\n                                </CardBody>\r\n                            </Card>\r\n                        </Col>\r\n\r\n                    </Row>\r\n                </Container>\r\n\r\n\r\n            </Modal>\r\n        ), document.getElementById(MODAL_ROOT_ELEMENT));\r\n    }\r\n\r\n\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    const {downloadURL} = ownProps;\r\n\r\n    return {\r\n        imageData: state.imageLoader[downloadURL]\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, {downloadImage})(ImageLoader);","import {LOAD_IMAGE, REQUEST_ERROR, REQUEST_LOADING, REQUEST_SUCCESS} from \"./types\";\r\nimport axiosInstance from \"../utils/API/API\";\r\n\r\nexport const downloadImage = (url) => dispatch => {\r\n    if (!url) throw new Error(\"Cannot have null url\");\r\n    dispatch({\r\n        type: LOAD_IMAGE,\r\n        status: REQUEST_LOADING,\r\n        payload: {\r\n            url\r\n        }\r\n    });\r\n\r\n    axiosInstance.get(url, {\r\n        responseType: 'arraybuffer'\r\n    }).then((res) => {\r\n        console.log(res);\r\n        const imgFile = new Blob([res.data]);\r\n        const imgUrl = URL.createObjectURL(imgFile);\r\n        dispatch({\r\n            type: LOAD_IMAGE,\r\n            status: REQUEST_SUCCESS,\r\n            payload: {\r\n                url,\r\n                data: imgUrl\r\n            }\r\n        })\r\n    }, (err) => {\r\n        dispatch({\r\n            type: LOAD_IMAGE,\r\n            status: REQUEST_ERROR,\r\n            payload: {\r\n                url,\r\n                error: err\r\n            }\r\n        })\r\n    });\r\n};","import React, {useState} from \"react\";\r\nimport {Button, Modal} from \"reactstrap\";\r\nimport * as ReactDOM from \"react-dom\";\r\nimport {MODAL_ROOT_ELEMENT} from \"../../../../utils/Constants\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport ErrorBoundary from \"../../../../ErrorHandling/ErrorBoundary\";\r\n\r\nfunction AudioPlayer({playbackURL, MimeType}) {\r\n\r\n    const [preview, setPreview] = useState(true);\r\n\r\n    function hideFull(e) {\r\n        e.stopPropagation();\r\n        setPreview(!preview);\r\n\r\n    }\r\n\r\n    let element;\r\n    if (preview) {\r\n        element = (\r\n            <div className=\"img-thumbnail w-100 text-center\" data-test=\"audioPlayerWidget\">\r\n                <Button color=\"link\" onClick={hideFull}>\r\n                    {/*<i className=\"fa fa-play-circle fa-4x\"/>*/}\r\n                    <audio controls>\r\n                        <source src={playbackURL} type={MimeType}/>\r\n                        Your browser does not support the audio tag.\r\n                    </audio>\r\n                </Button>\r\n            </div>\r\n        )\r\n    } else {\r\n\r\n        // Load the video\r\n\r\n\r\n        element = ReactDOM.createPortal((\r\n            <Modal className=\"task-modal d-none d-sm-block\" data-test=\"videoPlayerWidget\" isOpen={!preview}\r\n                   toggle={hideFull}>\r\n\r\n\r\n                <audio controls>\r\n                    <source src={playbackURL} type={MimeType}/>\r\n                    Your browser does not support the audio tag.\r\n                </audio>\r\n\r\n            </Modal>\r\n        ), document.getElementById(MODAL_ROOT_ELEMENT));\r\n    }\r\n\r\n    return (\r\n        <ErrorBoundary>\r\n            {element}\r\n        </ErrorBoundary>\r\n    )\r\n\r\n\r\n}\r\n\r\nAudioPlayer.propTypes = {\r\n    playbackURL: PropTypes.string.isRequired,\r\n    MimeType: PropTypes.string.isRequired\r\n};\r\n\r\nexport default AudioPlayer;","import React from 'react';\r\nimport * as PropTypes from \"prop-types\";\r\nimport {PROP_CURRENT_PATH, PROP_FS_INFO} from \"../../../utils/RclonePropTypes\";\r\nimport VideoPlayer from \"../Widgets/VideoPlayer/VideoPlayer\";\r\nimport {IP_ADDRESS_KEY} from \"../../../utils/Constants\";\r\nimport {connect} from \"react-redux\";\r\nimport ImageLoader from \"../Widgets/ImageLoader/ImageLoader\";\r\nimport ErrorBoundary from \"../../../ErrorHandling/ErrorBoundary\";\r\nimport AudioPlayer from \"../Widgets/AudioPlayer/AudioPlayer\";\r\n\r\nexport function isMedia(MimeType) {\r\n    const mimeTypes = {\r\n        \"image/jpeg\": \"Image\",\r\n\r\n        \"video/mp4\": \"Video\",\r\n        \"video/webm\": \"Video\",\r\n        \"audio/webm\": \"Audio\",\r\n        \"video/ogg\": \"Video\",\r\n        \"application/ogg\": \"Unspecified\",\r\n\r\n\r\n        \"audio/mpeg\": \"Audio\",\r\n        \"audio/wav\": \"Audio\",\r\n        \"audio/mp4\": \"Audio\",\r\n    };\r\n\r\n    return mimeTypes[MimeType];\r\n}\r\n\r\nclass MediaWidget extends React.Component {\r\n\r\n\r\n    getRenderForItem = () => {\r\n        const {fsInfo, item, inViewport, currentPath} = this.props;\r\n        const {remoteName, remotePath} = currentPath;\r\n        const {MimeType} = item;\r\n\r\n        let downloadURL = \"\";\r\n\r\n        const ipAddress = localStorage.getItem(IP_ADDRESS_KEY);\r\n\r\n\r\n        if (fsInfo.Features.BucketBased) {\r\n            downloadURL = ipAddress + `[${remoteName}]/${remotePath}/${item.Name}`;\r\n\r\n        } else {\r\n\r\n            downloadURL = ipAddress + `[${remoteName}:${remotePath}]/${item.Name}`;\r\n\r\n        }\r\n\r\n        switch (MimeType) {\r\n            case \"image/jpeg\":\r\n\r\n                return (<ImageLoader item={item} downloadURL={downloadURL} inViewport={inViewport}/>);\r\n            case \"video/mp4\":\r\n            case \"video/webm\":\r\n            case \"audio/webm\":\r\n            case \"video/ogg\":\r\n            case \"application/ogg\":\r\n\r\n\r\n                return (<VideoPlayer playbackURL={downloadURL} MimeType={MimeType} currentPath={currentPath}/>);\r\n\r\n            case \"audio/mpeg\":\r\n            case \"audio/wav\":\r\n            case \"audio/mp4\":\r\n                return (<AudioPlayer playbackURL={downloadURL} MimeType={MimeType}/>);\r\n            default:\r\n                return null;\r\n\r\n        }\r\n    };\r\n\r\n\r\n    render() {\r\n        const {loadMedia, item} = this.props;\r\n        const {MimeType} = item;\r\n\r\n        let element = isMedia(MimeType) && loadMedia ? (\r\n            this.getRenderForItem()\r\n        ) : null;\r\n        return (\r\n            <ErrorBoundary>\r\n                {element}\r\n            </ErrorBoundary>\r\n        );\r\n    }\r\n}\r\n\r\nMediaWidget.propTypes = {\r\n    /**\r\n     * Load or skip loading any media\r\n     */\r\n    loadMedia: PropTypes.bool.isRequired,\r\n    /**\r\n     * Item: Contains the referenced item\r\n     */\r\n    item: PropTypes.object.isRequired,\r\n    /**\r\n     * FS Information\r\n     */\r\n    fsInfo: PROP_FS_INFO.isRequired,\r\n    /**\r\n     * Current Path\r\n     */\r\n    currentPath: PROP_CURRENT_PATH.isRequired,\r\n    /**\r\n     * Container ID\r\n     */\r\n    containerID: PropTypes.string.isRequired,\r\n    /**\r\n     * InViewPort tells whether the component is in the user's view\r\n     */\r\n    inViewport: PropTypes.bool.isRequired\r\n\r\n\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    const currentPath = state.explorer.currentPaths[ownProps.containerID];\r\n    const loadMedia = state.explorer.loadImages[ownProps.containerID];\r\n\r\n    let fsInfo = {};\r\n    const {remoteName} = currentPath;\r\n\r\n    if (currentPath && state.remote.configs) {\r\n\r\n        const tempRemoteName = remoteName.split(':')[0];\r\n        if (state.remote.configs[tempRemoteName])\r\n\r\n            fsInfo = state.remote.configs[tempRemoteName];\r\n    }\r\n    return {\r\n        currentPath,\r\n        fsInfo,\r\n        loadMedia\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, {})(MediaWidget);\r\n\r\n","import React from \"react\";\r\nimport {Button, DropdownItem, DropdownMenu, DropdownToggle, UncontrolledButtonDropdown} from \"reactstrap\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport * as RclonePropTypes from \"../../../utils/RclonePropTypes\";\r\n\r\nfunction FileActions({downloadHandle, deleteHandle, item, linkShareHandle}) {\r\n    const confirmDelete = (deleteHandle, item) => {\r\n        if (window.confirm(`Are you sure you want to delete ${item.Name}`)) {\r\n            deleteHandle(item);\r\n        }\r\n    }\r\n\r\n    const {IsDir} = item;\r\n    // let {ID, Name} = item;\r\n    // // Using fallback as fileName when the ID is not available (for local file system)\r\n    // if (ID === undefined) {\r\n    //     ID = Name;\r\n    // }\r\n\r\n    return (\r\n        <div data-test=\"fileActionsComponent\">\r\n            {!IsDir && <Button color=\"link\" onClick={() => downloadHandle(item)} data-test=\"btn-download\">\r\n                <i className={\"fa fa-cloud-download fa-lg d-inline\"}/>\r\n            </Button>}\r\n            <Button color=\"link\">\r\n                <i className=\"fa fa-info-circle\"/>\r\n            </Button>\r\n\r\n            <UncontrolledButtonDropdown>\r\n                <DropdownToggle color=\"link\">\r\n                    <i className=\"fa fa-ellipsis-v\"/>\r\n                </DropdownToggle>\r\n                <DropdownMenu>\r\n                    <DropdownItem header>Actions</DropdownItem>\r\n                    <DropdownItem data-test=\"btn-share-with-link\" onClick={() => linkShareHandle(item)}><i\r\n                        className=\"fa fa-share fa-lg d-inline\"/> Share with link</DropdownItem>\r\n                    <DropdownItem divider/>\r\n                    <DropdownItem data-test=\"btn-delete-item\" onClick={() => confirmDelete(deleteHandle, item)}><i\r\n                        className=\"fa fa-remove fa-lg d-inline text-danger\"/> Delete </DropdownItem>\r\n                </DropdownMenu>\r\n            </UncontrolledButtonDropdown>\r\n        </div>\r\n    )\r\n}\r\n\r\nFileActions.propTypes = {\r\n    downloadHandle: PropTypes.func.isRequired,\r\n    deleteHandle: PropTypes.func.isRequired,\r\n    item: RclonePropTypes.PROP_ITEM.isRequired,\r\n    linkShareHandle: PropTypes.func.isRequired\r\n\r\n}\r\n\r\nexport default FileActions;","import React from \"react\";\r\nimport * as PropTypes from \"prop-types\";\r\n\r\nconst mimeClassMap = {\r\n    \"application/pdf\": \"fa-file-pdf-o\",\r\n    \"image/jpeg\": \"fa-file-image-o\",\r\n    \"application/rar\": \"fa-file-archive-o\",\r\n    \"application/x-rar-compressed\": \"fa-file-archive-o\",\r\n    \"application/zip\": \"fa-file-archive-o\",\r\n    \"text/plain\": \"fa-file-text-o\",\r\n    \"text/x-vcard\": \"fa-address-card-o\"\r\n}\r\n\r\nfunction FileIcon({IsDir, MimeType}) {\r\n    let className = mimeClassMap[MimeType];\r\n    if (IsDir) {\r\n        className = \"fa-folder\"\r\n    }\r\n    if (!className) className = \"fa-file\";\r\n\r\n    return <i className={className + \" fa fa-lg\"} data-test=\"fileIconComponent\"/>;\r\n}\r\n\r\nFileIcon.propTypes = {\r\n    IsDir: PropTypes.bool.isRequired,\r\n    MimeType: PropTypes.string.isRequired\r\n}\r\n\r\nexport default FileIcon;","import React from \"react\";\r\nimport {Card, CardBody, CardFooter,} from \"reactstrap\";\r\n\r\nimport {ItemTypes} from './Constants'\r\nimport {DragSource} from 'react-dnd'\r\nimport {formatBytes} from \"../../../utils/Tools\";\r\nimport {performCopyFile, performMoveFile} from \"../../../utils/API/API\";\r\nimport {toast} from \"react-toastify\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport MediaWidget, {isMedia} from \"../../Base/MediaWidget/MediaWidget\";\r\nimport {PROP_ITEM} from \"../../../utils/RclonePropTypes\";\r\nimport ErrorBoundary from \"../../../ErrorHandling/ErrorBoundary\";\r\nimport FileActions from \"./FileActions\";\r\nimport FileIcon from \"./FileIcon\";\r\n\r\nasync function performCopyMoveOperation(params) {\r\n    const {srcRemoteName, srcRemotePath, destRemoteName, destRemotePath, Name, IsDir, dropEffect, updateHandler} = params;\r\n    if (dropEffect === \"move\") { /*Default operation without holding alt is copy, named as move in react-dnd*/\r\n        // if (component.props.canCopy) {\r\n        await performCopyFile(srcRemoteName, srcRemotePath, destRemoteName, destRemotePath, Name, IsDir);\r\n        updateHandler();\r\n        if (IsDir) {\r\n            toast.info(`Directory copying started in background: ${Name}`);\r\n        } else {\r\n            toast.info(`File copying started in background: ${Name}`);\r\n        }\r\n        // } else {\r\n        //     toast.error(\"This remote does not support copying\");\r\n        // }\r\n\r\n    } else {\r\n        // if (component.props.canMove) {\r\n        await performMoveFile(srcRemoteName, srcRemotePath, destRemoteName, destRemotePath, Name, IsDir);\r\n        updateHandler();\r\n        if (IsDir) {\r\n            toast.info(`Directory moving started in background: ${Name}`);\r\n        } else {\r\n            toast.info(`Directory moving started in background: ${Name}`);\r\n        }\r\n        // } else {\r\n        //     toast.error(\"This remote does not support moving\");\r\n        // }\r\n\r\n    }\r\n}\r\n\r\n\r\nconst fileComponentSource = {\r\n    canDrag(props) {\r\n\r\n        // You can disallow drag based on props\r\n        return true;\r\n    },\r\n    beginDrag(props) {\r\n        // console.log(\"props\", props, props.remoteName);\r\n        const {Name, Path, IsDir} = props.item;\r\n        return {\r\n            Name: Name, Path: Path, IsDir: IsDir, remoteName: props.remoteName, remotePath: props.remotePath\r\n        }\r\n    },\r\n\r\n    endDrag(props, monitor, component) {\r\n        // console.log(\"EndDrag\", monitor.getDropResult());\r\n        console.log(props, \"Component:\", component);\r\n        try {\r\n            if (monitor.getDropResult() && component) {\r\n                performCopyMoveOperation(monitor.getDropResult());\r\n            }\r\n        } catch (e) {\r\n            const error = e.response ? e.response : e;\r\n            console.log(JSON.stringify(error));\r\n\r\n            toast.error(`Error copying file(s). ${error}`, {\r\n                autoClose: false\r\n            });\r\n\r\n        }\r\n    }\r\n};\r\n\r\nfunction collect(connect, monitor) {\r\n    return {\r\n        connectDragSource: connect.dragSource(),\r\n        connectDragPreview: connect.dragPreview(),\r\n        isDragging: monitor.isDragging()\r\n    }\r\n}\r\n\r\n\r\n\r\n/**\r\n * Main class for individual render of file/directory in the files view.\r\n */\r\n// Non used props are required for drag-and-drop functionality\r\nclass FileComponent extends React.Component {\r\n\r\n    /*\r\n    MimeTypes: https://www.freeformatter.com/mime-types-list.html\r\n    * {\r\n    * For Directory\r\n\t\t\t\"ID\": \"18DsZ4ne6XV3qwDZQCBj2nAEwouFMxudB\",\r\n\t\t\t\"IsDir\": true,\r\n\t\t\t\"MimeType\": \"inode/directory\",\r\n\t\t\t\"ModTime\": \"2019-02-12T14:23:33.440Z\",\r\n\t\t\t\"Name\": \"two pass 28-1-19\",\r\n\t\t\t\"Path\": \"two pass 28-1-19\",\r\n\t\t\t\"Size\": -1\r\n\t\t},\r\n\t\t*\r\n\t\t* // For non-directory\r\n\t\t* {\r\n\t\t\t\"ID\": \"1u4D6-UdxhJYY8AVd8FcTN2Tl73W1RXsk\",\r\n\t\t\t\"IsDir\": false,\r\n\t\t\t\"MimeType\": \"application/octet-stream\",\r\n\t\t\t\"ModTime\": \"2018-11-18T13:14:54.068Z\",\r\n\t\t\t\"Name\": \"streamlined-gdoc.gdoc\",\r\n\t\t\t\"Path\": \"streamlined-gdoc.gdoc\",\r\n\t\t\t\"Size\": 173\r\n\t\t},\r\n\r\n    * */\r\n\r\n    handleClick(IsDir, clickHandler, e, item) {\r\n        if (IsDir) {\r\n            clickHandler(e, item)\r\n        }\r\n    }\r\n    render() {\r\n        const {containerID, inViewport, item, loadImages, clickHandler, downloadHandle, linkShareHandle, deleteHandle, connectDragSource, gridMode /*isDragging, remoteName*/} = this.props;\r\n\r\n        const {IsDir, MimeType, ModTime, Name, Size} = item;\r\n\r\n\r\n        let modTime = new Date(ModTime);\r\n        let element;\r\n        if (gridMode === \"card\") {\r\n            element = connectDragSource(\r\n                <div className={IsDir ? \"\" : \"col-md-4\"}>\r\n                    <Card>\r\n                        <CardBody onClick={(e) => this.handleClick(IsDir, clickHandler, e, item)}>\r\n\r\n                            {loadImages && isMedia(MimeType) ?\r\n                                <MediaWidget containerID={containerID} item={item} inViewport={inViewport}/> :\r\n                                <FileIcon IsDir={IsDir} MimeType={MimeType}/>\r\n                            }\r\n                            {Name}\r\n                        </CardBody>\r\n                        <CardFooter>\r\n                            <FileActions downloadHandle={downloadHandle} linkShareHandle={linkShareHandle}\r\n                                         deleteHandle={deleteHandle} item={item}/>\r\n                        </CardFooter>\r\n                    </Card>\r\n                </div>\r\n            )\r\n        } else {\r\n            element = connectDragSource(\r\n                <tr className=\"pointer-cursor fadeIn\">\r\n                    <td onClick={(e) => clickHandler(e, item)}>\r\n                        <FileIcon IsDir={IsDir} MimeType={MimeType}/>{\" \"}{Name}\r\n                    </td>\r\n                    <td>{Size === -1 ? \"-\" : formatBytes(Size, 2)}</td>\r\n                    <td className=\"d-none d-md-table-cell\">{modTime.toLocaleDateString()}</td>\r\n                    <td><FileActions downloadHandle={downloadHandle} linkShareHandle={linkShareHandle}\r\n                                     deleteHandle={deleteHandle} item={item}/></td>\r\n                </tr>\r\n            )\r\n        }\r\n        return <ErrorBoundary>\r\n            {element}\r\n        </ErrorBoundary>;\r\n    }\r\n}\r\n\r\n\r\nFileComponent.propTypes = {\r\n    /**\r\n     * Item as returned from the rclone backend\r\n     */\r\n    item: PROP_ITEM.isRequired,\r\n    /**\r\n     * Function which handles the clicks on the current item.\r\n     */\r\n    clickHandler: PropTypes.func.isRequired,\r\n    /**\r\n     * Function to handle the download of the current file\r\n     */\r\n    downloadHandle: PropTypes.func.isRequired,\r\n    /**\r\n     * Function to delete a file.\r\n     */\r\n    deleteHandle: PropTypes.func.isRequired,\r\n    /**\r\n     * Function to share the link of a file.\r\n     */\r\n    linkShareHandle: PropTypes.func.isRequired,\r\n    /**\r\n     * Name of the remote containing the {item}.\r\n     */\r\n    remoteName: PropTypes.string.isRequired,\r\n    /**\r\n     * Remote path of the current item. remoteName + remotePath gives the full path.\r\n     */\r\n    remotePath: PropTypes.string.isRequired,\r\n    /**\r\n     * Denotes the current grid mode:\r\n     * card: Card mode with Media support.\r\n     */\r\n    gridMode: PropTypes.string,\r\n    /**\r\n     * Container ID of the FilesExplorer this component is contained in.\r\n     */\r\n    containerID: PropTypes.string.isRequired,\r\n    /**\r\n     * Boolean value to represent if the current item can be moved to another destination.\r\n     */\r\n    canMove: PropTypes.bool.isRequired,\r\n    /**\r\n     * Boolean value to represent if the current item can be copied to another destination.\r\n     */\r\n    canCopy: PropTypes.bool.isRequired,\r\n    /**\r\n     * Boolean value to represent if loading media files is enabled by the user.\r\n     */\r\n    loadImages: PropTypes.bool.isRequired,\r\n    /**\r\n     * Boolean value to represent if the current remote is bucketbased, the url of a bucket based remote is different.\r\n     */\r\n    isBucketBased: PropTypes.bool.isRequired\r\n\r\n};\r\n\r\nexport default DragSource(ItemTypes.FILECOMPONENT, fileComponentSource, collect)(FileComponent);\r\n","import React from \"react\";\r\nimport {Button, Input, Modal, ModalBody, ModalFooter, ModalHeader} from \"reactstrap\";\r\nimport * as PropTypes from \"prop-types\";\r\n\r\n\r\nclass LinkShareModal extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            copySuccess: \"\"\r\n        };\r\n\r\n        this.toggle = this.toggle.bind(this);\r\n    }\r\n\r\n    toggle() {\r\n        this.props.closeModal();\r\n    }\r\n\r\n    copyToClipboard = () => {\r\n        let textField = document.createElement('textarea');\r\n        textField.innerText = this.props.linkUrl;\r\n        document.body.appendChild(textField);\r\n        textField.select();\r\n        document.execCommand('copy');\r\n        textField.remove();\r\n    };\r\n\r\n    handleFocus = (event) => event.target.select();\r\n\r\n    render() {\r\n        const {isVisible, linkUrl} = this.props;\r\n        const {copySuccess} = this.state;\r\n        let isCopyAllowed = (document && document.queryCommandSupported) ? document.queryCommandSupported('copy') : true;\r\n\r\n        return (\r\n            <div>\r\n                <Modal isOpen={isVisible} toggle={this.toggle}>\r\n                    <ModalHeader toggle={this.toggle} data-test=\"modalHeader\">Public link generated.</ModalHeader>\r\n                    <ModalBody data-test=\"modalBody\">\r\n                        <Input readOnly value={linkUrl} onFocus={this.handleFocus}/>\r\n                        {\r\n\r\n                            /* Logical shortcut for only displaying the\r\n                               button if the copy command exists */\r\n                            isCopyAllowed &&\r\n                            <div>\r\n                                <Button color=\"link\" onClick={this.copyToClipboard}><i\r\n                                    className=\"fa fa-clipboard fa-2x\"/></Button>\r\n                            </div>\r\n                        }\r\n                        {copySuccess}\r\n                    </ModalBody>\r\n                    <ModalFooter data-test=\"modalFooter\">\r\n                        <Button color=\"primary\" onClick={this.toggle}>Done</Button>{' '}\r\n                    </ModalFooter>\r\n                </Modal>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nLinkShareModal.propTypes = {\r\n    isVisible: PropTypes.bool.isRequired,\r\n    closeModal: PropTypes.func.isRequired,\r\n    linkUrl: PropTypes.string.isRequired\r\n};\r\nLinkShareModal.defaultProps = {\r\n    isVisible: true,\r\n};\r\n\r\nexport default LinkShareModal;","import React from \"react\";\r\n\r\nfunction ScrollableDiv({height, children}) {\r\n    return (\r\n        <div style={{overflow: \"auto\", height: height}}>\r\n            {children}\r\n        </div>)\r\n}\r\n\r\nexport default ScrollableDiv;\r\n","import React from \"react\";\r\n\r\nconst DropOverlay = (props) => (<div data-test=\"dropOverlay\"\r\n                                     style={{\r\n                                         position: 'absolute',\r\n                                         top: 0,\r\n                                         left: 0,\r\n                                         height: '100%',\r\n                                         width: '100%',\r\n                                         zIndex: 1,\r\n                                         opacity: 0.5,\r\n                                         backgroundColor: 'gray',\r\n                                     }}\r\n/>);\r\n\r\nexport default DropOverlay;","import React from \"react\";\r\nimport axiosInstance from \"../../../utils/API/API\";\r\nimport {Alert, Col, Container, Row, Spinner, Table} from \"reactstrap\";\r\nimport {DropTarget} from \"react-dnd\";\r\nimport FileComponent from \"./FileComponent\";\r\nimport {ItemTypes} from \"./Constants\";\r\nimport {toast} from \"react-toastify\";\r\nimport {\r\n    addColonAtLast,\r\n    changeListVisibility,\r\n    changeSearchFilter,\r\n    getSortCompareFunction,\r\n    isEmpty\r\n} from \"../../../utils/Tools\";\r\nimport {connect} from \"react-redux\";\r\nimport {getFiles} from \"../../../actions/explorerActions\";\r\nimport {compose} from \"redux\";\r\nimport {changePath, changeSortFilter, navigateUp} from \"../../../actions/explorerStateActions\";\r\nimport LinkShareModal from \"../../Base/LinkShareModal/LinkShareModal\";\r\nimport ScrollableDiv from \"../../Base/ScrollableDiv/ScrollableDiv\";\r\nimport {FILES_VIEW_HEIGHT} from \"../../../utils/Constants\";\r\nimport {PROP_CURRENT_PATH, PROP_FS_INFO} from \"../../../utils/RclonePropTypes\";\r\nimport * as PropTypes from 'prop-types';\r\nimport ErrorBoundary from \"../../../ErrorHandling/ErrorBoundary\";\r\nimport {createNewPublicLink, deleteFile, purgeDir} from \"rclone-api\";\r\nimport {createSelector} from \"reselect\";\r\nimport DropOverlay from \"../../Base/DropOverlay/DropOverlay\";\r\n\r\n/*\r\n* Start code for react DND\r\n* */\r\n\r\nconst filesTarget = {\r\n    drop(props, monitor, component) {\r\n        if (monitor.didDrop()) return;\r\n        // console.log(\"drop\", props, monitor, monitor.getItem(), component);\r\n\r\n        let {Name, Path, IsDir, remoteName} = monitor.getItem();\r\n\r\n        let srcRemoteName = addColonAtLast(remoteName);\r\n        let srcRemotePath = Path;\r\n        let destRemoteName = addColonAtLast(props.currentPath.remoteName);\r\n        let destRemotePath = props.currentPath.remotePath;\r\n\r\n        // console.log(\"drop:this\", this);\r\n\r\n        return {\r\n            srcRemoteName,\r\n            srcRemotePath,\r\n            destRemoteName,\r\n            destRemotePath,\r\n            Name,\r\n            IsDir,\r\n            updateHandler: component.updateHandler\r\n        }\r\n\r\n    },\r\n    canDrop(props, monitor) {\r\n        const {remoteName, remotePath} = monitor.getItem();\r\n        const destRemoteName = props.currentPath.remoteName;\r\n        const destRemotePath = props.currentPath.remotePath;\r\n        if (destRemoteName === remoteName) {\r\n            return destRemotePath !== remotePath;\r\n        }\r\n        return true;\r\n    }\r\n};\r\n\r\nfunction collect(connect, monitor) {\r\n    return {\r\n        connectDropTarget: connect.dropTarget(),\r\n        isOver: monitor.isOver(),\r\n        canDrop: monitor.canDrop()\r\n    }\r\n}\r\n\r\n\r\n/*\r\n* END code for react DND\r\n* */\r\n\r\n// Provides the up button view in the files view\r\n// function UpButtonComponent({upButtonHandle, gridMode}) {\r\n//     if (gridMode === \"card\") {\r\n//         return (\r\n//             <Col lg={12}>\r\n//                 <Button onClick={() => upButtonHandle()}>Go Up</Button>\r\n//             </Col>\r\n//         )\r\n//     } else {\r\n//         return (\r\n//             <tr onClick={() => upButtonHandle()} className={\"pointer-cursor\"}>\r\n//                 <td colSpan={1}/>\r\n//                 <td colSpan={4}><i className={\"fa fa-file-o\"}/> Go Up...</td>\r\n//             </tr>);\r\n//     }\r\n// }\r\n\r\n/**\r\n * FilesView component renders files in the file explorer.\r\n */\r\nclass FilesView extends React.PureComponent {\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isLoading: false,\r\n            isDownloadProgress: false,\r\n            downloadingItems: 0,\r\n            shouldUpdate: true,\r\n            showLinkShareModal: false,\r\n            generatedLink: \"\",\r\n\r\n\r\n        };\r\n        this.handleFileClick = this.handleFileClick.bind(this);\r\n        this.downloadHandle = this.downloadHandle.bind(this);\r\n        this.deleteHandle = this.deleteHandle.bind(this);\r\n    }\r\n\r\n    closeLinkShareModal = () => {\r\n        this.setState({\r\n            showLinkShareModal: false\r\n        })\r\n    };\r\n\r\n    showLinkShareModal = () => {\r\n        this.setState({\r\n            showLinkShareModal: true\r\n\r\n        })\r\n    };\r\n\r\n\r\n    handleFileClick(e, item) {\r\n        const {Path, IsDir, IsBucket} = item;\r\n        if (IsDir || IsBucket) {\r\n            this.updateRemotePath(Path, IsDir, IsBucket);\r\n        } else {\r\n            this.downloadHandle(item);\r\n        }\r\n\r\n    }\r\n\r\n    updateRemotePath(newRemotePath, IsDir, IsBucket) {\r\n        const {remoteName} = this.props.currentPath;\r\n\r\n        let updateRemoteName = \"\";\r\n        let updateRemotePath = \"\";\r\n\r\n\r\n        if (IsBucket) {\r\n            updateRemoteName = addColonAtLast(remoteName) + newRemotePath;\r\n            updateRemotePath = \"\";\r\n            // backStack.push({remoteName: addColonAtLast(backStack.peek().remoteName) + remotePath, remotePath: \"\"});\r\n\r\n        } else if (IsDir) {\r\n            updateRemoteName = remoteName;\r\n            updateRemotePath = newRemotePath;\r\n            // backStack.push({remoteName: backStack.peek().remoteName, remotePath: remotePath});\r\n        }\r\n        this.props.changePath(this.props.containerID, updateRemoteName, updateRemotePath);\r\n    }\r\n\r\n\r\n    getFilesList() {\r\n        const {remoteName, remotePath} = this.props.currentPath;\r\n\r\n        this.props.getFiles(remoteName, remotePath);\r\n\r\n    }\r\n\r\n    async downloadHandle(item) {\r\n        // let {remoteName, remotePath} = this.props;\r\n        let {remoteName, remotePath} = this.props.currentPath;\r\n        const {fsInfo} = this.props;\r\n        let downloadUrl = \"\";\r\n        if (fsInfo.Features.BucketBased) {\r\n            downloadUrl = `/[${remoteName}]/${remotePath}/${item.Name}`;\r\n\r\n        } else {\r\n            downloadUrl = `/[${remoteName}:${remotePath}]/${item.Name}`;\r\n        }\r\n\r\n        this.setState((prevState) => {\r\n            return {\r\n                downloadingItems: prevState.downloadingItems + 1,\r\n                isDownloadProgress: true\r\n            };\r\n        });\r\n\r\n        let response = await axiosInstance({\r\n            url: downloadUrl,\r\n            method: 'GET',\r\n            responseType: 'blob',\r\n        });\r\n\r\n        const url = window.URL.createObjectURL(new Blob([response.data]));\r\n        const link = document.createElement('a');\r\n        link.href = url;\r\n        link.setAttribute('download', item.Name);\r\n        document.body.appendChild(link);\r\n        link.click();\r\n\r\n        this.setState((prevState) => {\r\n            return {\r\n                downloadingItems: prevState.downloadingItems - 1,\r\n            };\r\n        }, () => {\r\n            if (this.state.downloadingItems === 0) {\r\n                this.setState({isDownloadProgress: false})\r\n            }\r\n        });\r\n    }\r\n\r\n    async deleteHandle(item) {\r\n        let {remoteName} = this.props.currentPath;\r\n\r\n        try {\r\n            if (item.IsDir) {\r\n\r\n                await purgeDir(remoteName, item.Path);\r\n\r\n                this.updateHandler();\r\n                toast.info(`${item.Name} deleted.`);\r\n\r\n            } else {\r\n\r\n                await deleteFile(remoteName, item.Path);\r\n                this.updateHandler();\r\n                toast.info(`${item.Name} deleted.`, {\r\n                    autoClose: true\r\n                });\r\n            }\r\n        } catch (e) {\r\n            // console.log(`Error in deleting file`);\r\n            toast.error(`Error deleting file. ${e}`, {\r\n                autoClose: false\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    updateHandler = () => {\r\n\r\n        // const {remoteName, remotePath} = this.props.currentPath;\r\n        this.getFilesList();\r\n    };\r\n\r\n    dismissAlert = (_) => {\r\n        this.setState({isDownloadProgress: false});\r\n    };\r\n\r\n    linkShareHandle = (item) => {\r\n        const {fsInfo} = this.props;\r\n        if (fsInfo.Features.PublicLink) {\r\n            // console.log(\"Sharing link\" + item.Name);\r\n            const {remoteName} = this.props.currentPath;\r\n            createNewPublicLink(remoteName, item.Path)\r\n                .then((res) => {\r\n                    // console.log(\"Public Link: \" + res.data.url);\r\n\r\n                    this.setState({\r\n                        generatedLink: res.url,\r\n                        showLinkShareModal: true\r\n                    })\r\n                }, (error) => {\r\n                    toast.error(\"Error Generating link: \" + error)\r\n                })\r\n        } else {\r\n            toast.error(\"This remote does not support public link\");\r\n        }\r\n\r\n    };\r\n\r\n    getFileComponents = (isDir) => {\r\n        const {files, containerID, gridMode, fsInfo, loadImages} = this.props;\r\n        const {remoteName, remotePath} = this.props.currentPath;\r\n        // console.log(fsInfo, files);\r\n        if (fsInfo && !isEmpty(fsInfo)) {\r\n            return files.reduce((result, item) => {\r\n                let {ID, Name} = item;\r\n                // Using fallback as fileName when the ID is not available (especially for local file system)\r\n                if (ID === undefined) {\r\n                    ID = Name;\r\n                }\r\n                if (item.IsDir === isDir) {\r\n                    result.push(\r\n                        <FileComponent key={ID} item={item} clickHandler={this.handleFileClick}\r\n                                       downloadHandle={this.downloadHandle} deleteHandle={this.deleteHandle}\r\n                                       remoteName={remoteName} remotePath={remotePath} gridMode={gridMode}\r\n                                       containerID={containerID}\r\n                                       linkShareHandle={this.linkShareHandle}\r\n                                       loadImages={loadImages}\r\n                                       isBucketBased={fsInfo.Features.BucketBased}\r\n                                       canCopy={fsInfo.Features.Copy} canMove={fsInfo.Features.Move} itemIdx={1}>\r\n\r\n                        </FileComponent>\r\n                    );\r\n                }\r\n                return result;\r\n            }, []);\r\n        }\r\n    };\r\n\r\n    applySortFilter = (sortFilter) => {\r\n        const {changeSortFilter, containerID} = this.props;\r\n\r\n        if (this.props.sortFilter === sortFilter) {\r\n            return changeSortFilter(containerID, sortFilter, (this.props.sortFilterAscending !== true));\r\n        } else {\r\n            return changeSortFilter(containerID, sortFilter, true);\r\n        }\r\n\r\n    };\r\n\r\n\r\n    render() {\r\n        const {isLoading, isDownloadProgress, downloadingItems, generatedLink, showLinkShareModal} = this.state;\r\n        const {connectDropTarget, isOver, files, gridMode, canDrop, sortFilter, sortFilterAscending} = this.props;\r\n        const {remoteName} = this.props.currentPath;\r\n\r\n        if (isLoading || !files) {\r\n            return (<div><Spinner color=\"primary\"/> Loading</div>);\r\n        } else {\r\n\r\n\r\n            if (remoteName === \"\") {\r\n                return (<div>No remote is selected. Select a remote from above to show files.</div>);\r\n            }\r\n\r\n\r\n            let dirComponentMap = this.getFileComponents(true);\r\n\r\n            let fileComponentMap = this.getFileComponents(false);\r\n\r\n            let renderElement = \"\";\r\n\r\n            if (gridMode === \"card\") {\r\n\r\n                renderElement = (\r\n\r\n                    <Container fluid={true}>\r\n\r\n                        <Row>\r\n                            <Col lg={3}>\r\n                                <h3>Directories</h3>\r\n                                <ScrollableDiv height={FILES_VIEW_HEIGHT}>\r\n                                    {dirComponentMap}\r\n                                </ScrollableDiv>\r\n                            </Col>\r\n                            <Col lg={9}>\r\n                                <h3>Files</h3>\r\n                                <ScrollableDiv height={FILES_VIEW_HEIGHT}>\r\n                                    <Row>\r\n                                        {fileComponentMap}\r\n                                    </Row>\r\n                                </ScrollableDiv>\r\n                            </Col>\r\n\r\n                        </Row>\r\n\r\n\r\n                    </Container>\r\n\r\n                )\r\n            } else {\r\n                let filterIconClass = \"fa fa-lg fa-arrow-down\";\r\n                if(sortFilterAscending){\r\n                    filterIconClass = \"fa fa-lg fa-arrow-up\";\r\n                }\r\n                renderElement = (\r\n\r\n                    <Container fluid={true} className={\"p-0\"}>\r\n\r\n                        <ScrollableDiv height={FILES_VIEW_HEIGHT}>\r\n\r\n                            <Table className=\"table table-responsive-sm table-striped table-fix-head\">\r\n                                <thead>\r\n                                <tr>\r\n                                    <th className=\"pointer-cursor\"\r\n                                        onClick={() => this.applySortFilter(\"name\")}>Name {sortFilter === \"name\" &&\r\n                                    <i className={filterIconClass}/>}</th>\r\n                                    <th className=\"pointer-cursor\"\r\n                                        onClick={() => this.applySortFilter(\"size\")}>Size {sortFilter === \"size\" &&\r\n                                    <i className={filterIconClass}/>}</th>\r\n                                    <th className=\"d-none d-md-table-cell pointer-cursor\"\r\n                                        onClick={() => this.applySortFilter(\"modified\")}>Modified {sortFilter === \"modified\" &&\r\n                                    <i className={filterIconClass}/>}</th>\r\n                                    <th>Actions</th>\r\n                                </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                {files.length > 0 ? (\r\n                                        <React.Fragment>\r\n                                            <tr>\r\n                                                <th colSpan={4}>Directories</th>\r\n                                            </tr>\r\n                                            {dirComponentMap}\r\n                                            <tr>\r\n                                                <th colSpan={4}>Files</th>\r\n                                            </tr>\r\n                                            {fileComponentMap}\r\n                                        </React.Fragment>\r\n                                    ) :\r\n                                    <tr>\r\n                                        <th colSpan={4}>Files</th>\r\n                                    </tr>\r\n                                }\r\n                                </tbody>\r\n                            </Table>\r\n                        </ScrollableDiv>\r\n                    </Container>\r\n\r\n\r\n                );\r\n            }\r\n\r\n\r\n            return connectDropTarget(\r\n                <div className={\"row\"}>\r\n                    {isOver && canDrop && <DropOverlay/>}\r\n                    <ErrorBoundary>\r\n\r\n                        <Alert color=\"info\" isOpen={isDownloadProgress} toggle={this.dismissAlert} sm={12}\r\n                               lg={12}>\r\n                            Downloading {downloadingItems} file(s). Please wait.\r\n                        </Alert>\r\n\r\n                        {renderElement}\r\n\r\n                        <LinkShareModal closeModal={this.closeLinkShareModal} isVisible={showLinkShareModal}\r\n                                        linkUrl={generatedLink}/>\r\n                    </ErrorBoundary>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n}\r\n\r\nconst propTypes = {\r\n    containerID: PropTypes.string.isRequired,\r\n    currentPath: PROP_CURRENT_PATH.isRequired,\r\n    fsInfo: PROP_FS_INFO,\r\n    gridMode: PropTypes.string,\r\n    searchQuery: PropTypes.string,\r\n    loadImages: PropTypes.bool.isRequired\r\n};\r\n\r\nconst defaultProps = {};\r\n\r\n\r\nFilesView.propTypes = propTypes;\r\nFilesView.defaultProps = defaultProps;\r\n\r\n\r\nconst getVisibleFiles = createSelector(\r\n    (state, props) => props.containerID,\r\n    (state, props) => state.explorer.currentPaths[props.containerID],\r\n    (state, props) => state.explorer.visibilityFilters[props.containerID],\r\n    (state, props) => state.explorer.sortFilters[props.containerID],\r\n    (state, props) => state.explorer.searchQueries[props.containerID],\r\n    (state, props) => state.explorer.sortFiltersAscending[props.containerID],\r\n    (state, props) => state.remote.files[`${state.explorer.currentPaths[props.containerID].remoteName}-${state.explorer.currentPaths[props.containerID].remotePath}`],\r\n    (containerID, currentPath, visibilityFilter, sortFilter, searchQuery, sortFilterAscending, files) => {\r\n        files = files.files;\r\n        // Filter according to visibility filters\r\n        if (visibilityFilter && visibilityFilter !== \"\") {\r\n            files = changeListVisibility(files, visibilityFilter);\r\n        }\r\n\r\n        //Filter according to search query, if any\r\n        if (searchQuery) {\r\n            files = changeSearchFilter(files, searchQuery);\r\n        }\r\n        files.sort(getSortCompareFunction(sortFilter, sortFilterAscending));\r\n\r\n        return files;\r\n    }\r\n)\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    const {currentPaths, gridMode, searchQueries, loadImages, sortFilters, sortFiltersAscending} = state.explorer;\r\n    const {containerID} = ownProps;\r\n    const currentPath = currentPaths[containerID];\r\n    const mgridMode = gridMode[containerID];\r\n    const searchQuery = searchQueries[containerID];\r\n    const mloadImages = loadImages[containerID];\r\n    const sortFilter = sortFilters[containerID];\r\n    const sortFilterAscending = sortFiltersAscending[containerID];\r\n\r\n    let fsInfo = {};\r\n    const {remoteName, remotePath} = currentPath;\r\n\r\n    if (currentPath && state.remote.configs) {\r\n        const tempRemoteName = remoteName.split(':')[0];\r\n        if (state.remote.configs[tempRemoteName])\r\n            fsInfo = state.remote.configs[tempRemoteName];\r\n    }\r\n\r\n    const pathKey = `${remoteName}-${remotePath}`;\r\n\r\n    let files = state.remote.files[pathKey];\r\n\r\n    if (files) {\r\n        files = getVisibleFiles(state, ownProps);\r\n    }\r\n\r\n    // Sort the files\r\n    return {\r\n        files,\r\n        currentPath,\r\n        fsInfo,\r\n        gridMode: mgridMode,\r\n        searchQuery,\r\n        loadImages: mloadImages,\r\n        sortFilter,\r\n        sortFilterAscending\r\n    }\r\n};\r\n\r\nexport default compose(\r\n    connect(\r\n        mapStateToProps, {getFiles, navigateUp, changePath, changeSortFilter}\r\n    ),\r\n    DropTarget(ItemTypes.FILECOMPONENT, filesTarget, collect)\r\n)(FilesView)\r\n","import React from 'react';\r\nimport {Button, Col, Form, FormGroup, Input, Label, Modal, ModalBody, ModalHeader} from \"reactstrap\";\r\nimport PropTypes from \"prop-types\";\r\nimport axiosInstance from \"../../../utils/API/API\";\r\nimport {toast} from \"react-toastify\";\r\nimport {addColonAtLast} from \"../../../utils/Tools\";\r\nimport {connect} from \"react-redux\";\r\nimport {getFilesForContainerID} from \"../../../actions/explorerStateActions\";\r\nimport urls from \"../../../utils/API/endpoint\";\r\n\r\n\r\nclass NewFolder extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            name: \"\",\r\n            disableForm: false\r\n        };\r\n        this.createNewFolder = this.createNewFolder.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.toggle = this.toggle.bind(this);\r\n\r\n    }\r\n\r\n    disableForm = (shouldDisable) => {\r\n        this.setState({disableForm: shouldDisable});\r\n    };\r\n\r\n    async createNewFolder() {\r\n\r\n        // console.log(\"Form Submitted\");\r\n        let {name} = this.state;\r\n        let {remoteName, remotePath} = this.props.currentPath;\r\n        const {fsInfo} = this.props;\r\n\r\n        remoteName = addColonAtLast(remoteName);\r\n\r\n        // remotePath = this.state.name;\r\n        try {\r\n            // console.log(\"fsInfo\", fsInfo);\r\n            if (fsInfo.Features.BucketBased && remotePath === \"\") {/*Trying to create a bucket, not a dir*/\r\n                remoteName += name;\r\n            } else { /*Normal directory*/\r\n                if (remotePath === \"\") {\r\n                    remotePath = name;\r\n                } else {\r\n                    remotePath += \"/\" + name;\r\n                }\r\n            }\r\n            const data = {\r\n                fs: remoteName,\r\n                remote: remotePath\r\n            };\r\n\r\n            /*Disable form submit button*/\r\n            this.disableForm(true);\r\n\r\n            /*Network Request*/\r\n            await axiosInstance.post(urls.mkdir, data);\r\n\r\n            this.disableForm(false);\r\n\r\n            this.toggle();\r\n            toast.info(`Folder created: ${remotePath}`);\r\n            this.props.getFilesForContainerID(this.props.containerID);\r\n        } catch (error) {\r\n            this.disableForm(false);\r\n\r\n            if (error.response) {\r\n                toast.error(`Error creating folder: ${error.response.data.error}`)\r\n            } else {\r\n                toast.error(`Error creating folder: ${error}`);\r\n            }\r\n\r\n            // console.log(`Error occurred at operations/mkdir: ${e}, ${e.response}`);\r\n        }\r\n    }\r\n\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        this.createNewFolder();\r\n    }\r\n\r\n    changeName = e => {\r\n        const value = e.target.value;\r\n        this.setState(\r\n            {name: value}\r\n        );\r\n    };\r\n\r\n    toggle() {\r\n        this.props.closeModal();\r\n    }\r\n\r\n    render() {\r\n        const {name, disableForm} = this.state;\r\n        const {isVisible, currentPath} = this.props;\r\n        return (\r\n\r\n            <Modal isOpen={isVisible} toggle={this.toggle} data-test=\"newFolderComponent\">\r\n                <Form onSubmit={this.handleSubmit}>\r\n                    <ModalHeader toggle={this.toggle}>Create New folder\r\n                        at {currentPath.remoteName}: {currentPath.remotePath}</ModalHeader>\r\n                    <ModalBody>\r\n                        <FormGroup row>\r\n                            <Label for=\"folderName\" sm={5}>Enter the name</Label>\r\n                            <Col sm={7}>\r\n                                <Input type=\"text\" name=\"folderName\" id=\"folderName\" value={name}\r\n                                       onChange={this.changeName} required autoFocus>\r\n                                </Input>\r\n                            </Col>\r\n                        </FormGroup>\r\n                        <div className=\"clearfix\">\r\n                            <Button type=\"submit\" color=\"success\" className=\"float-right\" disabled={disableForm}><i\r\n                                className=\"fa fa-check fa-lg\"/>Create folder</Button>\r\n                        </div>\r\n                        {/*<Input type={\"text\"} value={name} onChange={this.changeName}*/}\r\n                        {/*       ref={(input) => this.NameInput = input}/>*/}\r\n                    </ModalBody>\r\n                </Form>\r\n            </Modal>\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst propTypes = {\r\n    isVisible: PropTypes.bool.isRequired,\r\n    closeModal: PropTypes.func.isRequired,\r\n    containerID: PropTypes.string.isRequired,\r\n    getFilesForContainerID: PropTypes.func.isRequired\r\n};\r\n\r\n\r\nNewFolder.propTypes = propTypes;\r\n\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n\r\n    const currentPath = state.explorer.currentPaths[ownProps.containerID];\r\n    let fsInfo = {};\r\n\r\n    if (currentPath && state.remote.configs && state.remote.configs[currentPath.remoteName]) {\r\n        fsInfo = state.remote.configs[currentPath.remoteName];\r\n    }\r\n    return {\r\n        currentPath,\r\n        fsInfo\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, {getFilesForContainerID})(NewFolder);","import {NativeTypes} from 'react-dnd-html5-backend'\r\nimport {useDrop} from 'react-dnd'\r\nimport React from \"react\";\r\nimport DropOverlay from \"../DropOverlay/DropOverlay\";\r\nimport * as PropTypes from 'prop-types';\r\n\r\n\r\nexport const FileUploadBox = (props) => {\r\n    const {onDrop} = props\r\n    const [{canDrop, isOver}, drop] = useDrop({\r\n        accept: [NativeTypes.FILE],\r\n        drop(item, monitor) {\r\n            if (onDrop) {\r\n                onDrop(props, monitor)\r\n            }\r\n        },\r\n        collect: (monitor) => ({\r\n            isOver: monitor.isOver(),\r\n            canDrop: monitor.canDrop(),\r\n        }),\r\n    })\r\n    const isActive = canDrop && isOver\r\n    return (\r\n        <div ref={drop}>\r\n            {/*Display overlay if file is about to be dropped*/}\r\n            {isActive && <DropOverlay/>}\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n\r\nFileUploadBox.propTypes = {\r\n    onDrop: PropTypes.func\r\n}\r\n\r\nexport default FileUploadBox;","import React, {useCallback, useState} from 'react';\r\nimport {\r\n    Button,\r\n    Col,\r\n    Container,\r\n    FormGroup,\r\n    Input,\r\n    Modal,\r\n    ModalBody,\r\n    ModalFooter,\r\n    ModalHeader,\r\n    Row,\r\n    Table,\r\n    UncontrolledTooltip\r\n} from 'reactstrap';\r\nimport axiosInstance from \"../../../utils/API/API\";\r\nimport {addColonAtLast, formatBytes} from \"../../../utils/Tools\";\r\nimport {toast} from \"react-toastify\";\r\nimport * as RclonePropTypes from \"../../../utils/RclonePropTypes\";\r\nimport FileUploadBox from \"./FileUploadBox\";\r\nimport {DndProvider} from \"react-dnd\";\r\nimport {HTML5Backend} from \"react-dnd-html5-backend\";\r\n\r\n/**\r\n * New Mount Modal shows a button for opening a modal for new mount and then executes okHandle when positive\r\n * button is clicked\r\n * @param props\r\n * @returns {*}\r\n * @constructor\r\n */\r\nconst FileUploadModal = (props) => {\r\n    const {\r\n        currentPath\r\n    } = props;\r\n\r\n    const [modal, setModal] = useState(false);\r\n\r\n\r\n    const [files, setFiles] = useState(null);\r\n\r\n    const [isUploading, setIsUploading] = useState(false);\r\n\r\n\r\n    const toggle = () => setModal(!modal);\r\n\r\n\r\n    const changeFilesHandler = (e) => {\r\n        setFiles(e.target.files);\r\n    }\r\n\r\n    const isUploadDisabled = () => !files || isUploading;\r\n\r\n    const getFilesElement = () => {\r\n        let out = [];\r\n        for (let i = 0; i < files.length; i++) {\r\n            out.push(<tr>\r\n                <td>{files[i].name}</td>\r\n                <td>{files[i].size === -1 ? \"-\" : formatBytes(files[i].size, 2)}</td>\r\n            </tr>);\r\n        }\r\n        return out;\r\n    }\r\n\r\n\r\n    const fileUploadHandler = (_) => {\r\n        const data = new FormData();\r\n        for (let i = 0; i < files.length; i++) {\r\n            // get item\r\n            let file = files[i];\r\n\r\n            data.append(\"file\" + i, file);\r\n        }\r\n        setIsUploading(true);\r\n\r\n        axiosInstance.post(`operations/uploadfile?fs=` +\r\n            `${addColonAtLast(currentPath.remoteName)}` +\r\n            `&remote=${currentPath.remotePath}`, data)\r\n            .then(res => {\r\n                setIsUploading(false);\r\n                setFiles(null);\r\n                toggle();\r\n                toast.info(\"File uploaded successfully\");\r\n            }, err => {\r\n                setIsUploading(false);\r\n                toast.error(\"File upload failed\");\r\n            });\r\n    }\r\n\r\n    const filesDropHandler = useCallback((item, monitor) => {\r\n        if (monitor) {\r\n            setFiles(monitor.getItem().files);\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <div data-test=\"fileUploadModalComponent\">\r\n\r\n            <Button className=\"btn-explorer-action h-100\" id=\"UploadButton\"\r\n                    onClick={toggle}>\r\n                <i className=\"fa fa-lg fa-upload\"/>\r\n            </Button>\r\n            <UncontrolledTooltip placement=\"right\" target=\"UploadButton\">\r\n                Upload file(s)\r\n            </UncontrolledTooltip>\r\n            <Modal isOpen={modal} toggle={toggle}>\r\n                <DndProvider backend={HTML5Backend}>\r\n                    <ModalHeader toggle={toggle}>New Mount</ModalHeader>\r\n                    <ModalBody>\r\n                        <Container fluid>\r\n                            <FileUploadBox onDrop={filesDropHandler}>\r\n                                {files ? <Row>\r\n                                    <Table>\r\n                                        <thead>\r\n                                        <tr>\r\n                                            <th>Name</th>\r\n                                            <th>Size</th>\r\n                                        </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                        {getFilesElement()}\r\n                                        </tbody>\r\n                                    </Table>\r\n\r\n                                </Row> : <Row className=\"upload-box\">\r\n                                    <Col sm={3}/>\r\n                                    <Col sm={6}>\r\n\r\n                                        <label htmlFor=\"upload-file\">\r\n\r\n                                            <Row>\r\n                                                <i className=\"fa fa-lg fa-plus mx-auto mt-5\"/>\r\n                                                <p className=\"text-center mt-2\">Click here or drag and drop files to\r\n                                                    upload</p>\r\n                                            </Row>\r\n\r\n                                        </label>\r\n                                    </Col>\r\n                                    <Col sm={3}/>\r\n                                </Row>\r\n                                }\r\n                                <Row>\r\n                                    <FormGroup row className=\"pl-2 pr-2 d-none\">\r\n                                        <Input id=\"upload-file\" type=\"file\" name=\"file\" onChange={changeFilesHandler}\r\n                                               multiple/>\r\n                                    </FormGroup>\r\n                                </Row>\r\n                            </FileUploadBox>\r\n                        </Container>\r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                        <Button data-test=\"ok-button\" color=\"primary\" onClick={fileUploadHandler}\r\n                                disabled={isUploadDisabled()}>{isUploading ? \"Uploading\" : \"Upload\"}</Button>{' '}\r\n                        <Button data-test=\"cancel-button\" color=\"secondary\" onClick={toggle}>Cancel</Button>\r\n                    </ModalFooter>\r\n                </DndProvider>\r\n\r\n            </Modal>\r\n        </div>\r\n    );\r\n}\r\n\r\nFileUploadModal.propTypes = {\r\n    currentPath: RclonePropTypes.PROP_CURRENT_PATH\r\n}\r\n\r\nexport default FileUploadModal;","import React from 'react';\r\nimport {\r\n\tButton,\r\n\tButtonDropdown,\r\n\tCol,\r\n\tDropdownItem,\r\n\tDropdownMenu,\r\n\tDropdownToggle,\r\n\tForm,\r\n\tFormGroup,\r\n\tInput,\r\n\tModal,\r\n\tModalBody,\r\n\tModalFooter,\r\n\tModalHeader,\r\n\tRow,\r\n\tSpinner,\r\n\tUncontrolledTooltip\r\n} from \"reactstrap\";\r\nimport NewFolder from \"../NewFolder/NewFolder\";\r\nimport PropTypes from \"prop-types\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n\tchangeGridMode,\r\n\tchangePath,\r\n\tchangeVisibilityFilter,\r\n\tgetFilesForContainerID,\r\n\tnavigateBack,\r\n\tnavigateFwd,\r\n\tsetLoadImages,\r\n\tsetSearchQuery\r\n} from \"../../../actions/explorerStateActions\";\r\nimport {visibilityFilteringOptions} from \"../../../utils/Constants\";\r\nimport {getAboutRemote} from \"../../../actions/providerStatusActions\";\r\nimport {Doughnut} from \"react-chartjs-2\";\r\nimport {bytesToGB, isEmpty} from \"../../../utils/Tools\";\r\nimport {toast} from \"react-toastify\";\r\nimport {PROP_FS_INFO} from \"../../../utils/RclonePropTypes\";\r\nimport newFolderImg from '../../../assets/img/new-folder.png';\r\nimport {cleanTrashForRemote} from \"rclone-api\";\r\nimport {createSelector} from \"reselect\";\r\nimport FileUploadModal from \"./FileUploadModal\"; // with import\r\n\r\nfunction getUrl(currentPath) {\r\n\tconst {remoteName, remotePath} = currentPath;\r\n\treturn `${remoteName}:/${remotePath}`;\r\n}\r\n\r\n/**\r\n * File Operations component which handles user actions for files in the remote.( Visibility, gridmode, back, forward etc)\r\n */\r\nclass FileOperations extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tnewFolderModalIsVisible: false,\r\n\t\t\tisAboutModalOpen: false,\r\n\t\t\tdropdownOpen: false,\r\n\t\t\tsearchOpen: false,\r\n\t\t\ttempUrl: getUrl(props.currentPath),\r\n\t\t\tisUrlBarFocused: false\r\n\t\t};\r\n\t\tthis.filterOptions = visibilityFilteringOptions;\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\r\n\t\tif (prevProps.currentPath !== this.props.currentPath) {\r\n\t\t\tthis.setState({tempUrl: getUrl(this.props.currentPath)})\r\n\t\t}\r\n\t}\r\n\r\n\topenNewFolderModal = () => {\r\n\t\tconst {fsInfo} = this.props;\r\n\t\tif (fsInfo && fsInfo.Features && fsInfo.Features.CanHaveEmptyDirectories) {\r\n\t\t\tthis.setState({newFolderModalIsVisible: true});\r\n\t\t} else {\r\n\t\t\ttoast.error(\"This remote cannot have empty directories\");\r\n\t\t}\r\n\t};\r\n\r\n\tcloseNewFolderModal = () => {\r\n\t\tthis.setState({newFolderModalIsVisible: false});\r\n\t};\r\n\r\n\thandleChangeFilter = (e) => {\r\n\t\tconst newFilter = e.target.value;\r\n\r\n\t\tconst {changeVisibilityFilter} = this.props;\r\n\r\n\t\tchangeVisibilityFilter(this.props.containerID, newFilter);\r\n\r\n\t};\r\n\r\n\r\n\thandleChangeGridMode = () => {\r\n\t\tconst {gridMode, changeGridMode, containerID} = this.props;\r\n\t\tchangeGridMode(containerID, gridMode === \"list\" ? \"card\" : \"list\");\r\n\t};\r\n\r\n\tchangeSearch = (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst {containerID, setSearchQuery} = this.props;\r\n\t\tsetSearchQuery(containerID, e.target.value);\r\n\t};\r\n\r\n\r\n\ttoggleDropDown = () => {\r\n\t\tthis.setState((prevState) => {\r\n\t\t\treturn {\r\n\t\t\t\tdropdownOpen: !prevState.dropdownOpen\r\n\t\t\t}\r\n\t\t})\r\n\t};\r\n\r\n\ttoggleAboutModal = () => {\r\n\t\tconst {fsInfo} = this.props;\r\n\t\tif (fsInfo && fsInfo.Features && fsInfo.Features.About) {\r\n\t\t\tthis.setState((prevState) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tisAboutModalOpen: !prevState.isAboutModalOpen\r\n\t\t\t\t}\r\n\t\t\t}, () => {\r\n\t\t\t\tif (this.state.isAboutModalOpen) {\r\n\t\t\t\t\tconst {containerID} = this.props;\r\n\t\t\t\t\tthis.props.getAboutRemote(containerID);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\ttoast.error(\"This remote does not support About\");\r\n\t\t}\r\n\r\n\t};\r\n\r\n\thandleCleanTrash = () => {\r\n\t\tconst {fsInfo} = this.props;\r\n\t\tif (fsInfo && fsInfo.Features && fsInfo.Features.CleanUp) {\r\n\r\n\t\t\tif (window.confirm(\"Are you sure you want to clear the trash. This operation cannot be undone\")) {\r\n\r\n\t\t\t\tconst {currentPath, containerID} = this.props;\r\n\t\t\t\tlet {remoteName} = currentPath;\r\n\r\n\t\t\t\tcleanTrashForRemote(remoteName).then((res) => {\r\n\t\t\t\t\t\tif (res.status === 200) {\r\n\t\t\t\t\t\t\ttoast('Trash Cleaned');\r\n\t\t\t\t\t\t\tthis.props.getAbout(containerID);\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t(err) => {\r\n\t\t\t\t\t\ttoast.error(\"Error clearing trash \" + err);\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// Cleanup is not allowed\r\n\t\t\ttoast.error(\"Clearing trash is not allowed on this remote\");\r\n\t\t}\r\n\t};\r\n\r\n\tchangeLoadMedia = (e) => {\r\n\t\te.stopPropagation();\r\n\t\tconst {setLoadImages, containerID, loadImages} = this.props;\r\n\t\tsetLoadImages(containerID, !loadImages);\r\n\t};\r\n\r\n\thandleSearchOpen = () => {\r\n\t\tconst {containerID} = this.props;\r\n\t\tthis.setState((prevState) => {\r\n\t\t\t\tif (prevState.searchOpen) {\r\n\t\t\t\t\t// Clear Search Query if the search is about to close\r\n\t\t\t\t\tthis.props.setSearchQuery(containerID, \"\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn {searchOpen: !prevState.searchOpen}\r\n\t\t\t}\r\n\t\t);\r\n\t};\r\n\r\n\tonChangeTrial = (e) =>\r\n\t\tthis.setState({\r\n\t\t\ttempUrl: e.target.value\r\n\t\t})\r\n\tonFocusHandle = (_) =>\r\n\t\tthis.setState({isUrlBarFocused: true, tempUrl: getUrl(this.props.currentPath)});\r\n\r\n\tonBlurHandle = (_) =>\r\n\t\tthis.setState({isUrlBarFocused: false, tempUrl: getUrl(this.props.currentPath)});\r\n\r\n\tonSubmitUrlChange = (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst {changePath, containerID, currentPath} = this.props;\r\n\t\tconst {tempUrl} = this.state;\r\n\t\tlet urlSplits = tempUrl.split(\":/\")\r\n\t\tif (urlSplits && urlSplits[0] && (currentPath.remoteName !== urlSplits[0] || currentPath.remotePath !== urlSplits[1]))\r\n\t\t\tchangePath(containerID, urlSplits[0], urlSplits[1])\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {containerID, getFilesForContainerID, gridMode, navigateFwd, navigateBack, searchQuery, currentPath, doughnutData} = this.props;\r\n\t\tconst {newFolderModalIsVisible, dropdownOpen, isAboutModalOpen, searchOpen, tempUrl, isUrlBarFocused} = this.state;\r\n\r\n\t\tconst {remoteName} = currentPath;\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"pl-0 mt-3 mb-1 d-flex justify-content-between align-items-center\"\r\n\t\t\t\t style={{marginLeft: \"-15px\", marginRight: \"-15px\"}}>\r\n\t\t\t\t<div className=\"d-flex flex-nowrap\">\r\n\t\t\t\t\t<Button color=\"light\" className=\"mr-1 btn-explorer-action\"\r\n\t\t\t\t\t\t\tonClick={() => navigateBack(containerID)}><i\r\n\t\t\t\t\t\tclassName={\"fa fa-lg fa-arrow-left\"}/></Button>\r\n\t\t\t\t\t<Button color=\"light\" className={\"mr-1 btn-explorer-action\"}\r\n\t\t\t\t\t\t\tonClick={() => navigateFwd(containerID)}><i\r\n\t\t\t\t\t\tclassName={\"fa fa-lg fa-arrow-right\"}/></Button>\r\n\t\t\t\t\t<Button className=\"mr-1 btn-explorer-action\" id=\"RefreshButton\"\r\n\t\t\t\t\t\t\tonClick={() => getFilesForContainerID(containerID)}><i\r\n\t\t\t\t\t\tclassName={\"fa fa-lg fa-repeat\"}/></Button>\r\n\t\t\t\t\t<UncontrolledTooltip placement=\"right\" target=\"RefreshButton\">\r\n\t\t\t\t\t\tRefresh Files\r\n\t\t\t\t\t</UncontrolledTooltip>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"flex-grow-1 pl-1 pr-1 pr-lg-3 pl-lg-3\">\r\n\t\t\t\t\t<Form inline onSubmit={this.onSubmitUrlChange} className=\"h-100\">\r\n\t\t\t\t\t\t<Input style={{width: \"100%\"}} value={tempUrl} onChange={this.onChangeTrial}\r\n\t\t\t\t\t\t\t   onFocus={this.onFocusHandle} onBlur={this.onBlurHandle}/>\r\n\t\t\t\t\t\t<Button className={isUrlBarFocused ? \"\" : \"d-none\"} color=\"link\" type={\"submit\"}\r\n\t\t\t\t\t\t\t\tstyle={{marginLeft: \"-45px\"}}><i className=\"fa fa-arrow-right\"/></Button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"d-flex flex-wrap\">\r\n\t\t\t\t\t{/*<Button className=\"p-0 float-right\" color=\"link\"><i className=\"fa fa-info-circle\"/></Button>*/}\r\n\r\n\t\t\t\t\t<Button className=\"mr-1 btn-explorer-action p-1\" id=\"CreateFolderButton\"\r\n\t\t\t\t\t\t\tonClick={this.openNewFolderModal}><img src={newFolderImg} alt=\"New Folder\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   className=\"fa fa-lg\"/> </Button>\r\n\t\t\t\t\t<UncontrolledTooltip placement=\"bottom\" target=\"CreateFolderButton\">\r\n\t\t\t\t\t\tCreate a new Folder\r\n\t\t\t\t\t</UncontrolledTooltip>\r\n\r\n\t\t\t\t\t<ButtonDropdown isOpen={dropdownOpen} toggle={this.toggleDropDown} direction={'down'}\r\n\t\t\t\t\t\t\t\t\tid=\"FilterButton\">\r\n\t\t\t\t\t\t<DropdownToggle className=\"btn-explorer-action\">\r\n\t\t\t\t\t\t\t<i className={\"fa fa-lg fa-filter\"}/>\r\n\t\t\t\t\t\t</DropdownToggle>\r\n\t\t\t\t\t\t<DropdownMenu>\r\n\t\t\t\t\t\t\t<DropdownItem key={\"None\"} value={\"\"}\r\n\t\t\t\t\t\t\t\t\t\t  onClick={this.handleChangeFilter}>None</DropdownItem>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.filterOptions.map((item, _) => {\r\n\t\t\t\t\t\t\t\t\treturn (<DropdownItem key={item} value={item}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  onClick={this.handleChangeFilter}>{item}</DropdownItem>)\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</DropdownMenu>\r\n\t\t\t\t\t</ButtonDropdown>\r\n\r\n\t\t\t\t\t<Button className=\"btn-explorer-action\" id=\"ListViewButton\"\r\n\t\t\t\t\t\t\tonClick={this.handleChangeGridMode}>\r\n\t\t\t\t\t\t<i className={\"fa fa-lg \" + (gridMode === \"card\" ? \"fa-list\" : \"fa-th-large\")}/>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<UncontrolledTooltip placement=\"right\" target=\"ListViewButton\">\r\n\t\t\t\t\t\t{(gridMode === \"card\" ? \"List View\" : \"Card View\")}\r\n\t\t\t\t\t</UncontrolledTooltip>\r\n\r\n\t\t\t\t\t<Button className=\"btn-explorer-action\" id=\"InfoButton\"\r\n\t\t\t\t\t\t\tonClick={this.toggleAboutModal}>\r\n\t\t\t\t\t\t<i className=\"fa fa-lg fa-info\"/>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<UncontrolledTooltip placement=\"right\" target=\"InfoButton\">\r\n\t\t\t\t\t\tShow Remote Info\r\n\t\t\t\t\t</UncontrolledTooltip>\r\n\t\t\t\t\t<FileUploadModal currentPath={currentPath} buttonLabel={\"Upload\"}\r\n\t\t\t\t\t\t\t\t\t buttonClass={\"btn-explorer-action\"}/>\r\n\t\t\t\t\t<Form inline>\r\n\t\t\t\t\t\t<FormGroup>\r\n\t\t\t\t\t\t\t{searchOpen && <Input type=\"text\" placeholder=\"Search\" value={searchQuery}\r\n\t\t\t\t\t\t\t\t\t\t\t\t  className=\"animate-fade-in\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t  onChange={this.changeSearch}/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t<Button color=\"\" className=\"mr-1 btn-explorer-action\"\r\n\t\t\t\t\t\t\t\t\tonClick={this.handleSearchOpen}>\r\n\t\t\t\t\t\t\t\t<i className={\"fa fa-lg \" + (searchOpen ? \"fa-close\" : \"fa-search\")}/>\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t</Form>\r\n\r\n\r\n\t\t\t\t\t<NewFolder containerID={containerID} isVisible={newFolderModalIsVisible}\r\n\t\t\t\t\t\t\t   closeModal={this.closeNewFolderModal}/>\r\n\r\n\t\t\t\t\t<Modal isOpen={isAboutModalOpen} toggle={this.toggleAboutModal}>\r\n\t\t\t\t\t\t<ModalHeader>\r\n\t\t\t\t\t\t\tStatus for {remoteName}\r\n\t\t\t\t\t\t</ModalHeader>\r\n\t\t\t\t\t\t<ModalBody>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col sm={12}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"chart-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t<p>Space Usage (in GB)</p>\r\n\t\t\t\t\t\t\t\t\t\t{doughnutData && !isEmpty(doughnutData) ? <Doughnut data={doughnutData}/> :\r\n\t\t\t\t\t\t\t\t\t\t\t<React.Fragment><Spinner color=\"primary\"/>Loading</React.Fragment>}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col sm={12}>\r\n\t\t\t\t\t\t\t\t\t<Button color=\"danger\" onClick={this.handleCleanTrash}>Clean Trash <i\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"fa fa-lg fa-trash\"/></Button>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\r\n\t\t\t\t\t\t</ModalBody>\r\n\t\t\t\t\t\t<ModalFooter>\r\n\r\n\t\t\t\t\t\t</ModalFooter>\r\n\r\n\t\t\t\t\t</Modal>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nFileOperations.propTypes = {\r\n\t/**\r\n\t * Container ID of the current remote explorer\r\n\t */\r\n\tcontainerID: PropTypes.string.isRequired,\r\n\t/**\r\n\t * Redux function to change the visibility of images/ pdf etc.\r\n\t */\r\n\tchangeVisibilityFilter: PropTypes.func.isRequired,\r\n\t/**\r\n\t * The current visibility filter setting\r\n\t */\r\n\tvisibilityFilter: PropTypes.string,\r\n\t/**\r\n\t * Render mode: Grid/Card\r\n\t */\r\n\tgridMode: PropTypes.string,\r\n\t/**\r\n\t * Redux function to set the search query as typed by user.\r\n\t */\r\n\tsetSearchQuery: PropTypes.func.isRequired,\r\n\t/**\r\n\t * Currently set search Query from redux\r\n\t */\r\n\tsearchQuery: PropTypes.string,\r\n\t/**\r\n\t * A map which gives the information about the remote about.\r\n\t */\r\n\tremoteAbout: PropTypes.object,\r\n\t/**\r\n\t * File system information and features about the current remote\r\n\t */\r\n\tfsInfo: PROP_FS_INFO,\r\n\t/**\r\n\t * Map of data to be passed to the doughnutChart.\r\n\t */\r\n\tdoughnutData: PropTypes.object,\r\n\r\n\t/**\r\n\t * Number of columns\r\n\t */\r\n\tnumCols: PropTypes.number.isRequired,\r\n};\r\n\r\nconst getDoughnutData = createSelector(\r\n\t(state, props) => props.containerID,\r\n\t(state, props) => state.providerStatus.about[props.containerID]\r\n\t,\r\n\t(containerID, remoteAbout) => {\r\n\t\tif (!remoteAbout) return {};\r\n\r\n\t\tlet labels = [];\r\n\t\tlet data = [];\r\n\r\n\t\tfor (const [key, value] of Object.entries(remoteAbout)) {\r\n\t\t\tif (key !== \"total\") {\r\n\t\t\t\tlabels.push(key);\r\n\t\t\t\tdata.push(bytesToGB(value).toFixed(2));\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (labels.length > 1 && data.length > 1) {\r\n\t\t\treturn {\r\n\t\t\t\tlabels: labels, datasets: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdata: data,\r\n\t\t\t\t\t\tbackgroundColor: [\r\n\t\t\t\t\t\t\t'#FF6384',\r\n\t\t\t\t\t\t\t'#36A2EB',\r\n\t\t\t\t\t\t\t'#FFCE56',\r\n\t\t\t\t\t\t\t'#ff7459',\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\thoverBackgroundColor: [\r\n\t\t\t\t\t\t\t'#FF6384',\r\n\t\t\t\t\t\t\t'#36A2EB',\r\n\t\t\t\t\t\t\t'#FFCE56',\r\n\t\t\t\t\t\t\t'#ff7459',\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t};\r\n\r\n\r\n\t\t}\r\n\t\treturn {};\r\n\t})\r\n\r\nconst getFsInfoSelector = createSelector(\r\n\t(state, props) => props.containerID,\r\n\t(state, props) => state.explorer.currentPaths[props.containerID],\r\n\t(state, props) => state.remote.configs,\r\n\t(containerID, currentPath, configs) => {\r\n\t\tif (currentPath && configs && configs[currentPath.remoteName]) {\r\n\t\t\treturn configs[currentPath.remoteName];\r\n\t\t}\r\n\t\treturn {}\r\n\t}\r\n)\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n\tlet doughnutData = getDoughnutData(state, ownProps);\r\n\tlet fsInfo = getFsInfoSelector(state, ownProps);\r\n\treturn {\r\n\t\tvisibilityFilter: state.explorer.visibilityFilters[ownProps.containerID],\r\n\t\tloadImages: state.explorer.loadImages[ownProps.containerID],\r\n\t\tcurrentPath: state.explorer.currentPaths[ownProps.containerID],\r\n\t\tgridMode: state.explorer.gridMode[ownProps.containerID],\r\n\t\tsearchQuery: state.explorer.searchQueries[ownProps.containerID],\r\n\t\tfsInfo,\r\n\t\tdoughnutData,\r\n\t\tnumCols: state.remote.numCols,\r\n\t}\r\n};\r\n\r\n\r\nexport default connect(mapStateToProps, {\r\n\tchangeVisibilityFilter,\r\n\tchangeGridMode,\r\n\tnavigateBack,\r\n\tnavigateFwd,\r\n\tgetFilesForContainerID,\r\n\tsetSearchQuery,\r\n\tgetAboutRemote,\r\n\tsetLoadImages,\r\n\tchangePath,\r\n})(FileOperations);\r\n","import {addColonAtLast, isLocalRemoteName} from \"../utils/Tools\";\r\nimport {GET_REMOTE_ABOUT, REQUEST_ERROR, REQUEST_SUCCESS} from \"../actions/types\";\r\nimport axiosInstance from \"../utils/API/API\";\r\nimport urls from \"../utils/API/endpoint\";\r\n\r\n/**\r\n * Gets the information of a provider\r\n * @param containerID\r\n * @returns {Function}\r\n */\r\nexport const getAboutRemote = (containerID) => {\r\n    return (dispatch, getState) => {\r\n\r\n        const state = getState();\r\n        const currentPath = state.explorer.currentPaths[containerID];\r\n\r\n        let {remoteName} = currentPath;\r\n\r\n        if (remoteName) {\r\n            if (!isLocalRemoteName(remoteName)) {\r\n                remoteName = addColonAtLast(remoteName);\r\n            }\r\n\r\n            // Remove the previous data\r\n            dispatch({\r\n                type: GET_REMOTE_ABOUT,\r\n                status: REQUEST_SUCCESS,\r\n                id: containerID,\r\n                payload: {}\r\n            });\r\n\r\n            axiosInstance.post(urls.getAbout, {fs: remoteName})\r\n                .then((res) => {\r\n                    dispatch({\r\n                        type: GET_REMOTE_ABOUT,\r\n                        status: REQUEST_SUCCESS,\r\n                        id: containerID,\r\n                        payload: res.data\r\n                    })\r\n                }, (res) => {\r\n                    dispatch({\r\n                        type: GET_REMOTE_ABOUT,\r\n                        status: REQUEST_ERROR,\r\n                        id: containerID,\r\n                        error: res\r\n                    })\r\n                })\r\n        }\r\n    }\r\n};\r\n","import React from 'react';\r\nimport {Card, CardBody, Container} from \"reactstrap\";\r\nimport FilesView from \"../FilesView/FilesView\";\r\nimport {addColonAtLast} from \"../../../utils/Tools\";\r\nimport {connect} from \"react-redux\";\r\nimport * as PropTypes from 'prop-types';\r\nimport {\r\n\tchangePath,\r\n\tchangeRemoteName,\r\n\tchangeRemotePath,\r\n\tcreatePath,\r\n\tnavigateBack,\r\n\tnavigateFwd,\r\n\tnavigateUp\r\n} from \"../../../actions/explorerStateActions\";\r\nimport FileOperations from \"../../Base/FileOperations/FileOperations\";\r\nimport {PROP_CURRENT_PATH, PROP_FS_INFO} from \"../../../utils/RclonePropTypes\";\r\nimport ErrorBoundary from \"../../../ErrorHandling/ErrorBoundary\";\r\nimport RemotesList from \"../RemotesList\";\r\nimport {getFsInfo} from \"../../../actions/explorerActions\";\r\n\r\n\r\nclass RemoteExplorer extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tremoteNameTemp: \"\"\r\n\t\t};\r\n\r\n\t\tthis.updateRemoteName = this.updateRemoteName.bind(this);\r\n\t\tthis.updateRemotePath = this.updateRemotePath.bind(this);\r\n\t}\r\n\r\n\r\n\tupdateRemoteName(remoteName) {\r\n\t\tthis.setState({remoteNameTemp: remoteName});\r\n\t}\r\n\r\n\tupdateRemotePath(newRemotePath, IsDir, IsBucket) {\r\n\t\tconst {remoteName} = this.props.currentPath;\r\n\r\n\t\tlet updateRemoteName = \"\";\r\n\t\tlet updateRemotePath = \"\";\r\n\r\n\t\tif (IsBucket) {\r\n\t\t\tupdateRemoteName = addColonAtLast(remoteName) + newRemotePath;\r\n\t\t\tupdateRemotePath = \"\";\r\n\r\n\t\t} else if (IsDir) {\r\n\t\t\tupdateRemoteName = remoteName;\r\n\t\t\tupdateRemotePath = newRemotePath;\r\n\t\t}\r\n\t\tthis.props.changePath(this.props.containerID, updateRemoteName, updateRemotePath);\r\n\t}\r\n\r\n\thandleChangeRemoteName = (remoteName) => {\r\n\t\tconst {changeRemoteName, containerID, getFsInfo} = this.props;\r\n\t\tchangeRemoteName(containerID, remoteName);\r\n\t\tgetFsInfo(remoteName);\r\n\t}\r\n\r\n\trender() {\r\n\r\n\r\n\t\tconst {remoteName} = this.props.currentPath;\r\n\t\tconst {containerID, className} = this.props;\r\n\r\n\t\tconst isValidPath = remoteName && remoteName !== \"\";\r\n\r\n\t\treturn (\r\n\t\t\t<ErrorBoundary>\r\n\r\n\t\t\t\t<Card className={className}>\r\n\t\t\t\t\t<CardBody>\r\n\t\t\t\t\t\t<Container fluid={true}>\r\n\r\n\t\t\t\t\t\t\t{isValidPath ? (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<FileOperations containerID={containerID}/>\r\n\t\t\t\t\t\t\t\t\t<FilesView containerID={containerID}/>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<RemotesList\r\n\t\t\t\t\t\t\t\t\tremoteName={remoteName}\r\n\t\t\t\t\t\t\t\t\tcontainerID={containerID}\r\n\t\t\t\t\t\t\t\t\thandleChangeRemoteName={this.handleChangeRemoteName}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Container>\r\n\r\n\t\t\t\t\t</CardBody>\r\n\t\t\t\t</Card>\r\n\r\n\r\n\t\t\t</ErrorBoundary>\r\n\t\t);\r\n\r\n\r\n\t}\r\n\r\n}\r\n\r\n\r\nconst propTypes = {\r\n\r\n\tcontainerID: PropTypes.string.isRequired,\r\n\tcreatePath: PropTypes.func.isRequired,\r\n\tcurrentPath: PROP_CURRENT_PATH,\r\n\tfsInfo: PROP_FS_INFO,\r\n\thasError: PropTypes.bool,\r\n\tdistractionFreeMode: PropTypes.bool.isRequired,\r\n\tclassName: PropTypes.string\r\n\r\n};\r\n\r\nconst defaultProps = {};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n\r\n\tconst currentPath = state.explorer.currentPaths[ownProps.containerID];\r\n\tlet fsInfo = {};\r\n\r\n\tconst {remoteName} = currentPath;\r\n\r\n\tif (currentPath && state.remote.configs) {\r\n\r\n\t\tconst tempRemoteName = remoteName.split(':')[0];\r\n\t\tif (state.remote.configs[tempRemoteName])\r\n\r\n\t\t\tfsInfo = state.remote.configs[tempRemoteName];\r\n\t}\r\n\treturn {\r\n\t\tconfigs: state.remote.configs,\r\n\t\thasError: state.remote.hasError,\r\n\t\terror: state.remote.error,\r\n\t\tcurrentPath,\r\n\t\tfsInfo,\r\n\t}\r\n\r\n};\r\n\r\nRemoteExplorer.propTypes = propTypes;\r\nRemoteExplorer.defaultProps = defaultProps;\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{\r\n\t\tcreatePath, changePath,\r\n\t\tchangeRemoteName, changeRemotePath, navigateUp,\r\n\t\tnavigateBack, navigateFwd, getFsInfo\r\n\t}\r\n)(RemoteExplorer);\r\n","import {Col, Row} from \"reactstrap\";\r\nimport TabsLayout from \"../TabsLayout/TabsLayout\";\r\nimport RemoteExplorer from \"../RemoteExplorer\";\r\nimport React from \"react\";\r\nimport * as PropTypes from \"prop-types\";\r\n\r\nconst TabbedPanes = ({numCols, activeRemoteContainerID, distractionFreeMode, containers}) => {\r\n    let returnData = [];\r\n    const lgSize = 12 / numCols;\r\n    for (let pane = 0; pane < numCols; pane++) {\r\n        returnData.push((\r\n            <Col lg={lgSize} key={pane}>\r\n                <Row>\r\n                    <Col lg={12}>\r\n                        <TabsLayout paneID={pane}/>\r\n                    </Col>\r\n                </Row>\r\n                {\r\n                    containers.map(({ID, paneID}) => {\r\n                        if (paneID === pane) {\r\n                            return (<RemoteExplorer containerID={ID} key={ID}\r\n                                                    className={activeRemoteContainerID && activeRemoteContainerID[pane] && activeRemoteContainerID[pane] !== ID ? \"d-none\" : \"\"}\r\n                                                    distractionFreeMode={distractionFreeMode}/>)\r\n                        } else {\r\n                            return null;\r\n                        }\r\n                    })\r\n                }\r\n\r\n            </Col>\r\n        ))\r\n    }\r\n    return returnData;\r\n};\r\n\r\nTabbedPanes.propTypes = {\r\n    numCols: PropTypes.number.isRequired,\r\n    activeRemoteContainerID: PropTypes.object.isRequired,\r\n    distractionFreeMode: PropTypes.bool.isRequired,\r\n    containers: PropTypes.array.isRequired\r\n}\r\n\r\nexport default TabbedPanes;","import React from \"react\";\r\nimport {Button, Col, Row} from \"reactstrap\";\r\n\r\nimport {connect} from \"react-redux\";\r\nimport {createPath} from \"../../../actions/explorerStateActions\";\r\nimport * as PropTypes from 'prop-types';\r\nimport {addRemoteContainer, changeDistractionFreeMode, changeNumCols} from \"../../../actions/explorerActions\";\r\nimport ErrorBoundary from \"../../../ErrorHandling/ErrorBoundary\";\r\n\r\nimport singlePaneImg from '../../../assets/img/single-pane.png';\r\nimport doublePaneImg from '../../../assets/img/double-pane1.png';\r\nimport triplePaneImg from '../../../assets/img/triple-pane.png';\r\nimport TabbedPanes from \"./TabbedPanes\";\r\n\r\nimport {DndProvider} from \"react-dnd\";\r\nimport {HTML5Backend} from 'react-dnd-html5-backend';\r\n\r\nclass RemoteExplorerLayout extends React.Component {\r\n\r\n\tchangeLayout = (nos, mode) => {\r\n\t\tconst {changeNumCols} = this.props;\r\n\t\t// Check if the current layout is not same as previous\r\n\t\tif (nos !== changeNumCols) {\r\n\t\t\tchangeNumCols(nos, mode);\r\n\t\t}\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\t//Load one explorer layout\r\n\t\tconst {numContainers, addRemoteContainer} = this.props;\r\n\r\n\t\tif (numContainers < 1) {\r\n\t\t\taddRemoteContainer(0)\r\n\t\t}\r\n\t}\r\n\r\n\ttoggleDistractionFreeMode = (_) => {\r\n\t\tconst {distractionFreeMode, changeDistractionFreeMode} = this.props;\r\n\t\t// this.setState((prevState) => ({\r\n\t\t//     distractionFreeMode: !prevState.distractionFreeMode\r\n\t\t// }));\r\n\t\tchangeDistractionFreeMode(!distractionFreeMode);\r\n\r\n\t};\r\n\r\n\r\n\trender() {\r\n\r\n\t\t/*Divide the 12 bootstrap columns to fit number of explorers*/\r\n\t\tconst {numCols, distractionFreeMode, activeRemoteContainerID, containers} = this.props;\r\n\t\treturn (\r\n\t\t\t<ErrorBoundary>\r\n\t\t\t\t<DndProvider backend={HTML5Backend}>\r\n\t\t\t\t\t<Row className={\"d-none d-md-block\"} data-test=\"remoteExplorerLayout\">\r\n\r\n\t\t\t\t\t\t{distractionFreeMode && <div className=\"clearfix float-right\">\r\n\t\t\t\t\t\t\t<Button color={\"success\"} className={\"ml-2\"}\r\n\t\t\t\t\t\t\t\t\tonClick={this.toggleDistractionFreeMode}><i className=\"fa fa-arrows\"/></Button>\r\n\t\t\t\t\t\t</div>}\r\n\r\n\t\t\t\t\t\t{(!distractionFreeMode) &&\r\n\t\t\t\t\t\t<Col sm={12} lg={12} className=\"mb-3 d-none d-md-block\">\r\n                            \r\n\r\n                        <span className=\"text-choose-layout\">\r\n                            Choose Layout: {\"  \"}\r\n                        </span>\r\n\r\n\t\t\t\t\t\t\t<Button color={\"primary\"} className={\"ml-2 layout-change-button\"}\r\n\t\t\t\t\t\t\t\t\tonClick={() => this.changeLayout(1, \"horizontal\")}>\r\n\t\t\t\t\t\t\t\t<img style={{height: 24}} src={singlePaneImg} alt=\"Single Vertical Pane\"/>\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button color={\"primary\"} className={\"ml-2 layout-change-button\"}\r\n\t\t\t\t\t\t\t\t\tonClick={() => this.changeLayout(2, \"horizontal\")}>\r\n\t\t\t\t\t\t\t\t<img style={{height: 24}} src={doublePaneImg} alt=\"Double Vertical Pane\"/>\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button color={\"primary\"} className={\"ml-2 layout-change-button\"}\r\n\t\t\t\t\t\t\t\t\tonClick={() => this.changeLayout(3, \"horizontal\")}>\r\n\t\t\t\t\t\t\t\t<img style={{height: 24}} src={triplePaneImg} alt=\"Triple Vertical Pane\"/>\r\n\t\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t\t\t<Button color={\"success\"} className={\"ml-2\"}\r\n\t\t\t\t\t\t\t\t\tonClick={this.toggleDistractionFreeMode}><i className=\"fa fa-arrows\"/> Full Screen\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t{/*<Button onClick={this.changeLayout(4,\"grid\")}>4 - grid</Button>*/}\r\n\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Row>\r\n\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<TabbedPanes\r\n\t\t\t\t\t\tnumCols={numCols}\r\n\t\t\t\t\t\tdistractionFreeMode={distractionFreeMode}\r\n\t\t\t\t\t\tactiveRemoteContainerID={activeRemoteContainerID}\r\n\t\t\t\t\t\tcontainers={containers}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Row>\r\n\t\t\t\t</DndProvider>\r\n\t\t\t</ErrorBoundary>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tbackStacks: state.explorer.backStacks,\r\n\tnumCols: state.remote.numCols,\r\n\tnumContainers: state.remote.numContainers,\r\n\tdistractionFreeMode: state.remote.distractionFreeMode,\r\n\tsplitMode: state.remote.splitMode,\r\n\tactiveRemoteContainerID: state.remote.activeRemoteContainerID,\r\n\tcontainers: state.remote.containers,\r\n});\r\n\r\nRemoteExplorerLayout.propTypes = {\r\n\tbackStacks: PropTypes.object.isRequired,\r\n\tcreatePath: PropTypes.func.isRequired,\r\n\tchangeNumCols: PropTypes.func.isRequired,\r\n\tdistractionFreeMode: PropTypes.bool.isRequired,\r\n\tactiveRemoteContainerID: PropTypes.object.isRequired\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n\tcreatePath,\r\n\tchangeNumCols,\r\n\tchangeDistractionFreeMode,\r\n\taddRemoteContainer\r\n})\r\n(RemoteExplorerLayout);\r\n"],"sourceRoot":""}